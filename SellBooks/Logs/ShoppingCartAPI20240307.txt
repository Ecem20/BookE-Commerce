ShoppingCartAPI | 2024-03-07 17:36:04.040 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 17:36:04.176 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 17:36:04.236 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 17:36:04.269 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 17:36:04.502 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 17:36:04.503 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 17:36:04.503 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 17:36:04.526 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:36:04.974 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:05.009 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:36:05.220 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:36:05.222 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:36:05.532 +03:00 [INF] Received HTTP response headers after 307.3578ms - 200
ShoppingCartAPI | 2024-03-07 17:36:05.535 +03:00 [INF] End processing HTTP request after 318.7865ms - 200
ShoppingCartAPI | 2024-03-07 17:36:06.393 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:36:06.705 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 17:36:06.793 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:36:06.812 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:36:06.812 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:36:07.155 +03:00 [INF] Received HTTP response headers after 342.9927ms - 200
ShoppingCartAPI | 2024-03-07 17:36:07.155 +03:00 [INF] End processing HTTP request after 343.6168ms - 200
ShoppingCartAPI | 2024-03-07 17:36:07.165 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:36:07.219 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 2204.2261ms
ShoppingCartAPI | 2024-03-07 17:36:07.220 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:07.233 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 2717.9255ms
ShoppingCartAPI | 2024-03-07 17:36:22.118 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:36:22.132 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:22.139 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:36:22.241 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:36:22.285 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:36:22.290 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:36:22.290 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:36:22.303 +03:00 [INF] Received HTTP response headers after 13.2402ms - 200
ShoppingCartAPI | 2024-03-07 17:36:22.304 +03:00 [INF] End processing HTTP request after 13.9517ms - 200
ShoppingCartAPI | 2024-03-07 17:36:22.320 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:36:22.326 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 186.4184ms
ShoppingCartAPI | 2024-03-07 17:36:22.326 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:22.327 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 208.6218ms
ShoppingCartAPI | 2024-03-07 17:36:24.256 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:36:24.260 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:24.267 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:36:24.296 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:36:24.298 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:36:24.298 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:36:24.307 +03:00 [INF] Received HTTP response headers after 8.376ms - 200
ShoppingCartAPI | 2024-03-07 17:36:24.307 +03:00 [INF] End processing HTTP request after 8.8772ms - 200
ShoppingCartAPI | 2024-03-07 17:36:24.309 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:36:24.309 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:36:24.322 +03:00 [INF] Received HTTP response headers after 13.41ms - 200
ShoppingCartAPI | 2024-03-07 17:36:24.323 +03:00 [INF] End processing HTTP request after 13.8194ms - 200
ShoppingCartAPI | 2024-03-07 17:36:24.415 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:36:24.428 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:36:24.485 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 17:36:24.509 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:36:24.514 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 247.144ms
ShoppingCartAPI | 2024-03-07 17:36:24.514 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:24.515 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 258.7026ms
ShoppingCartAPI | 2024-03-07 17:36:30.011 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:36:30.012 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:30.013 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:36:30.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:36:30.077 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:36:30.078 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 65.3081ms
ShoppingCartAPI | 2024-03-07 17:36:30.078 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:36:30.079 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 67.4207ms
ShoppingCartAPI | 2024-03-07 17:37:10.637 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:37:10.638 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:10.638 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:37:10.640 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:37:10.666 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:37:10.666 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 28.5111ms
ShoppingCartAPI | 2024-03-07 17:37:10.666 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:10.667 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 29.7713ms
ShoppingCartAPI | 2024-03-07 17:37:16.614 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:37:16.615 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:16.615 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:37:16.618 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:37:16.660 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:37:16.661 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 45.7918ms
ShoppingCartAPI | 2024-03-07 17:37:16.661 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:16.661 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 47.1783ms
ShoppingCartAPI | 2024-03-07 17:37:26.952 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:37:26.953 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:26.953 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:37:26.954 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:37:26.954 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:37:26.958 +03:00 [INF] Received HTTP response headers after 3.7963ms - 200
ShoppingCartAPI | 2024-03-07 17:37:26.958 +03:00 [INF] End processing HTTP request after 4.0362ms - 200
ShoppingCartAPI | 2024-03-07 17:37:26.965 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:37:26.970 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 17:37:26.982 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:37:26.983 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:37:26.983 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:37:26.994 +03:00 [INF] Received HTTP response headers after 11.462ms - 200
ShoppingCartAPI | 2024-03-07 17:37:26.994 +03:00 [INF] End processing HTTP request after 11.7767ms - 200
ShoppingCartAPI | 2024-03-07 17:37:26.996 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:37:26.997 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 43.9258ms
ShoppingCartAPI | 2024-03-07 17:37:26.997 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:26.997 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 45.5414ms
ShoppingCartAPI | 2024-03-07 17:37:28.868 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:37:28.868 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:28.868 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:37:28.869 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:37:28.869 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:37:28.875 +03:00 [INF] Received HTTP response headers after 6.1043ms - 200
ShoppingCartAPI | 2024-03-07 17:37:28.876 +03:00 [INF] End processing HTTP request after 6.4208ms - 200
ShoppingCartAPI | 2024-03-07 17:37:28.881 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:37:28.905 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__First_BookId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeaderId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[BookId] = @__First_BookId_0 AND [c].[CartHeaderId] = @__cartHeaderFromDb_CartHeaderId_1
ShoppingCartAPI | 2024-03-07 17:37:28.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:37:28.908 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:37:28.908 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:37:28.917 +03:00 [INF] Received HTTP response headers after 9.7255ms - 200
ShoppingCartAPI | 2024-03-07 17:37:28.917 +03:00 [INF] End processing HTTP request after 9.8865ms - 200
ShoppingCartAPI | 2024-03-07 17:37:28.918 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:37:28.919 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 50.1849ms
ShoppingCartAPI | 2024-03-07 17:37:28.919 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:28.919 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 51.506ms
ShoppingCartAPI | 2024-03-07 17:37:29.763 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:37:29.764 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:29.764 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:37:29.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:37:29.772 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:37:29.772 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:37:29.772 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:37:29.781 +03:00 [INF] Received HTTP response headers after 8.4348ms - 200
ShoppingCartAPI | 2024-03-07 17:37:29.781 +03:00 [INF] End processing HTTP request after 8.6572ms - 200
ShoppingCartAPI | 2024-03-07 17:37:29.782 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:37:29.783 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 18.8088ms
ShoppingCartAPI | 2024-03-07 17:37:29.783 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:29.783 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 20.6265ms
ShoppingCartAPI | 2024-03-07 17:37:31.302 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:37:31.303 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:31.303 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:37:31.306 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:37:31.307 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:37:31.307 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:37:31.314 +03:00 [INF] Received HTTP response headers after 7.4371ms - 200
ShoppingCartAPI | 2024-03-07 17:37:31.314 +03:00 [INF] End processing HTTP request after 7.6649ms - 200
ShoppingCartAPI | 2024-03-07 17:37:31.315 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:37:31.315 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:37:31.321 +03:00 [INF] Received HTTP response headers after 6.312ms - 200
ShoppingCartAPI | 2024-03-07 17:37:31.321 +03:00 [INF] End processing HTTP request after 6.516ms - 200
ShoppingCartAPI | 2024-03-07 17:37:31.325 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:37:31.330 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
ShoppingCartAPI | 2024-03-07 17:37:31.330 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:37:31.331 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 28.2463ms
ShoppingCartAPI | 2024-03-07 17:37:31.331 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:31.332 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 29.2559ms
ShoppingCartAPI | 2024-03-07 17:37:33.020 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:37:33.021 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:33.021 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:37:33.027 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:37:33.036 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:37:33.037 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:37:33.037 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:37:33.044 +03:00 [INF] Received HTTP response headers after 6.7367ms - 200
ShoppingCartAPI | 2024-03-07 17:37:33.044 +03:00 [INF] End processing HTTP request after 6.9195ms - 200
ShoppingCartAPI | 2024-03-07 17:37:33.046 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:37:33.046 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 25.2305ms
ShoppingCartAPI | 2024-03-07 17:37:33.047 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:37:33.047 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 26.5065ms
ShoppingCartAPI | 2024-03-07 17:39:12.484 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 17:39:12.591 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 17:39:12.644 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 17:39:12.668 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 17:39:12.869 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 17:39:12.870 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 17:39:12.870 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 17:39:12.884 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:39:13.148 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:13.177 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:13.628 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:39:13.720 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:13.776 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:13.778 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:14.104 +03:00 [INF] Received HTTP response headers after 321.594ms - 200
ShoppingCartAPI | 2024-03-07 17:39:14.106 +03:00 [INF] End processing HTTP request after 335.4857ms - 200
ShoppingCartAPI | 2024-03-07 17:39:14.288 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:14.367 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 1186.6959ms
ShoppingCartAPI | 2024-03-07 17:39:14.368 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:14.377 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 1499.7346ms
ShoppingCartAPI | 2024-03-07 17:39:17.692 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:39:17.699 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:17.708 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:17.882 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:39:17.912 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:39:17.912 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:39:18.091 +03:00 [INF] Received HTTP response headers after 178.4016ms - 200
ShoppingCartAPI | 2024-03-07 17:39:18.091 +03:00 [INF] End processing HTTP request after 179.1793ms - 200
ShoppingCartAPI | 2024-03-07 17:39:18.113 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:18.114 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:18.410 +03:00 [INF] Received HTTP response headers after 295.9049ms - 200
ShoppingCartAPI | 2024-03-07 17:39:18.410 +03:00 [INF] End processing HTTP request after 296.4499ms - 200
ShoppingCartAPI | 2024-03-07 17:39:18.518 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:18.560 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:18.764 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 17:39:18.805 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:18.812 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 1103.238ms
ShoppingCartAPI | 2024-03-07 17:39:18.812 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:18.812 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 1120.9374ms
ShoppingCartAPI | 2024-03-07 17:39:18.840 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:39:18.847 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:18.847 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:18.863 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:39:18.944 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:18.944 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 97.2783ms
ShoppingCartAPI | 2024-03-07 17:39:18.945 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:18.945 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 105.1533ms
ShoppingCartAPI | 2024-03-07 17:39:26.218 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:39:26.218 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:26.218 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:26.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:39:26.248 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:26.249 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 30.8017ms
ShoppingCartAPI | 2024-03-07 17:39:26.249 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:26.250 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 32.1925ms
ShoppingCartAPI | 2024-03-07 17:39:29.405 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:39:29.406 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:29.413 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:29.442 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:39:29.442 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:39:29.449 +03:00 [INF] Received HTTP response headers after 6.6941ms - 200
ShoppingCartAPI | 2024-03-07 17:39:29.449 +03:00 [INF] End processing HTTP request after 7.9838ms - 200
ShoppingCartAPI | 2024-03-07 17:39:29.467 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:39:29.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 17:39:29.564 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:39:29.570 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:29.570 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:29.585 +03:00 [INF] Received HTTP response headers after 14.8054ms - 200
ShoppingCartAPI | 2024-03-07 17:39:29.585 +03:00 [INF] End processing HTTP request after 15.2349ms - 200
ShoppingCartAPI | 2024-03-07 17:39:29.586 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:29.586 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 173.3946ms
ShoppingCartAPI | 2024-03-07 17:39:29.586 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:29.587 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 182.2901ms
ShoppingCartAPI | 2024-03-07 17:39:30.550 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:39:30.551 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:30.552 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:30.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:39:30.558 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:30.558 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:30.558 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:30.571 +03:00 [INF] Received HTTP response headers after 12.7416ms - 200
ShoppingCartAPI | 2024-03-07 17:39:30.571 +03:00 [INF] End processing HTTP request after 13.0452ms - 200
ShoppingCartAPI | 2024-03-07 17:39:30.573 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:30.574 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 22.1013ms
ShoppingCartAPI | 2024-03-07 17:39:30.574 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:30.575 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 24.2399ms
ShoppingCartAPI | 2024-03-07 17:39:34.202 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 256
ShoppingCartAPI | 2024-03-07 17:39:34.202 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:34.202 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:34.203 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:39:34.204 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:39:34.215 +03:00 [INF] Received HTTP response headers after 11.5499ms - 200
ShoppingCartAPI | 2024-03-07 17:39:34.215 +03:00 [INF] End processing HTTP request after 11.7113ms - 200
ShoppingCartAPI | 2024-03-07 17:39:34.221 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:39:34.250 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__First_BookId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeaderId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[BookId] = @__First_BookId_0 AND [c].[CartHeaderId] = @__cartHeaderFromDb_CartHeaderId_1
ShoppingCartAPI | 2024-03-07 17:39:34.253 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:39:34.253 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:34.253 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:34.267 +03:00 [INF] Received HTTP response headers after 13.5193ms - 200
ShoppingCartAPI | 2024-03-07 17:39:34.267 +03:00 [INF] End processing HTTP request after 13.6693ms - 200
ShoppingCartAPI | 2024-03-07 17:39:34.267 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:34.268 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 65.0603ms
ShoppingCartAPI | 2024-03-07 17:39:34.268 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:34.268 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 66.5231ms
ShoppingCartAPI | 2024-03-07 17:39:35.063 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:39:35.064 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:35.064 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:35.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:39:35.068 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:35.068 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:35.069 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:35.074 +03:00 [INF] Received HTTP response headers after 5.3719ms - 200
ShoppingCartAPI | 2024-03-07 17:39:35.074 +03:00 [INF] End processing HTTP request after 5.5931ms - 200
ShoppingCartAPI | 2024-03-07 17:39:35.075 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:35.077 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 12.9181ms
ShoppingCartAPI | 2024-03-07 17:39:35.077 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:35.078 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 14.3343ms
ShoppingCartAPI | 2024-03-07 17:39:36.201 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:39:36.202 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:36.202 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:36.205 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:39:36.206 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:39:36.206 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:39:36.215 +03:00 [INF] Received HTTP response headers after 9.1704ms - 200
ShoppingCartAPI | 2024-03-07 17:39:36.215 +03:00 [INF] End processing HTTP request after 9.5478ms - 200
ShoppingCartAPI | 2024-03-07 17:39:36.216 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:36.216 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:39:36.221 +03:00 [INF] Received HTTP response headers after 5.2014ms - 200
ShoppingCartAPI | 2024-03-07 17:39:36.221 +03:00 [INF] End processing HTTP request after 5.3541ms - 200
ShoppingCartAPI | 2024-03-07 17:39:36.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:36.227 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
ShoppingCartAPI | 2024-03-07 17:39:36.228 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:36.229 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 26.6484ms
ShoppingCartAPI | 2024-03-07 17:39:36.229 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:36.229 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 28.0813ms
ShoppingCartAPI | 2024-03-07 17:39:36.247 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:39:36.248 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:36.248 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:36.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:39:36.252 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:36.252 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:36.252 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:36.256 +03:00 [INF] Received HTTP response headers after 4.1317ms - 200
ShoppingCartAPI | 2024-03-07 17:39:36.256 +03:00 [INF] End processing HTTP request after 4.3022ms - 200
ShoppingCartAPI | 2024-03-07 17:39:36.257 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:36.259 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 10.7997ms
ShoppingCartAPI | 2024-03-07 17:39:36.260 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:36.260 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 12.5394ms
ShoppingCartAPI | 2024-03-07 17:39:40.941 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:39:40.943 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:40.944 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:39:40.957 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:39:40.960 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:39:40.960 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:40.960 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:39:40.965 +03:00 [INF] Received HTTP response headers after 4.4097ms - 200
ShoppingCartAPI | 2024-03-07 17:39:40.965 +03:00 [INF] End processing HTTP request after 4.5765ms - 200
ShoppingCartAPI | 2024-03-07 17:39:40.965 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:39:40.966 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 21.721ms
ShoppingCartAPI | 2024-03-07 17:39:40.966 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:39:40.966 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 25.0286ms
ShoppingCartAPI | 2024-03-07 17:42:05.023 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 17:42:05.095 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 17:42:05.144 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 17:42:05.172 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 17:42:05.412 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 17:42:05.412 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 17:42:05.412 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 17:42:05.436 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-07 17:42:05.759 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:05.795 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:06.281 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:42:06.346 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:06.395 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 595.3323ms
ShoppingCartAPI | 2024-03-07 17:42:06.396 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:06.407 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 981.0835ms
ShoppingCartAPI | 2024-03-07 17:42:18.009 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 250
ShoppingCartAPI | 2024-03-07 17:42:18.015 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:18.024 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:18.116 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:42:18.118 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:42:18.453 +03:00 [INF] Received HTTP response headers after 330.1943ms - 200
ShoppingCartAPI | 2024-03-07 17:42:18.455 +03:00 [INF] End processing HTTP request after 341.8981ms - 200
ShoppingCartAPI | 2024-03-07 17:42:18.807 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:42:19.081 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 17:42:19.160 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:42:19.186 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:19.186 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:19.426 +03:00 [INF] Received HTTP response headers after 239.7326ms - 200
ShoppingCartAPI | 2024-03-07 17:42:19.426 +03:00 [INF] End processing HTTP request after 240.1138ms - 200
ShoppingCartAPI | 2024-03-07 17:42:19.430 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:19.440 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 1416.2894ms
ShoppingCartAPI | 2024-03-07 17:42:19.441 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:19.445 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 1436.0756ms
ShoppingCartAPI | 2024-03-07 17:42:20.899 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-07 17:42:20.903 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:20.903 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:20.915 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:42:20.953 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:42:20.958 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:42:20.958 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:42:20.976 +03:00 [INF] Received HTTP response headers after 18.061ms - 200
ShoppingCartAPI | 2024-03-07 17:42:20.976 +03:00 [INF] End processing HTTP request after 18.5621ms - 200
ShoppingCartAPI | 2024-03-07 17:42:20.992 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:20.996 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 92.9633ms
ShoppingCartAPI | 2024-03-07 17:42:20.996 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:20.997 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 97.9809ms
ShoppingCartAPI | 2024-03-07 17:42:21.980 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:42:21.981 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:21.985 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:22.006 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:42:22.007 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:42:22.007 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:42:22.013 +03:00 [INF] Received HTTP response headers after 6.0552ms - 200
ShoppingCartAPI | 2024-03-07 17:42:22.013 +03:00 [INF] End processing HTTP request after 6.4278ms - 200
ShoppingCartAPI | 2024-03-07 17:42:22.014 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:22.015 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:22.026 +03:00 [INF] Received HTTP response headers after 11.0792ms - 200
ShoppingCartAPI | 2024-03-07 17:42:22.026 +03:00 [INF] End processing HTTP request after 11.4487ms - 200
ShoppingCartAPI | 2024-03-07 17:42:22.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:42:22.114 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:42:22.156 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 17:42:22.174 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:22.178 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 192.4ms
ShoppingCartAPI | 2024-03-07 17:42:22.178 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:22.178 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 199.0365ms
ShoppingCartAPI | 2024-03-07 17:42:22.201 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-07 17:42:22.202 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:22.202 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:22.205 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:42:22.241 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:22.241 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 39.0962ms
ShoppingCartAPI | 2024-03-07 17:42:22.242 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:22.242 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 40.7855ms
ShoppingCartAPI | 2024-03-07 17:42:27.622 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 249
ShoppingCartAPI | 2024-03-07 17:42:27.623 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:27.623 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:27.625 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:42:27.625 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:42:27.630 +03:00 [INF] Received HTTP response headers after 4.8624ms - 200
ShoppingCartAPI | 2024-03-07 17:42:27.630 +03:00 [INF] End processing HTTP request after 5.215ms - 200
ShoppingCartAPI | 2024-03-07 17:42:27.634 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:42:27.640 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 17:42:27.643 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:42:27.644 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:27.644 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:27.653 +03:00 [INF] Received HTTP response headers after 9.1715ms - 200
ShoppingCartAPI | 2024-03-07 17:42:27.653 +03:00 [INF] End processing HTTP request after 9.5329ms - 200
ShoppingCartAPI | 2024-03-07 17:42:27.654 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:27.656 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 32.2392ms
ShoppingCartAPI | 2024-03-07 17:42:27.656 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:27.656 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 34.6725ms
ShoppingCartAPI | 2024-03-07 17:42:28.784 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-07 17:42:28.785 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:28.785 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:28.790 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:42:28.792 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:42:28.792 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:42:28.792 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:42:28.797 +03:00 [INF] Received HTTP response headers after 4.3512ms - 200
ShoppingCartAPI | 2024-03-07 17:42:28.797 +03:00 [INF] End processing HTTP request after 4.516ms - 200
ShoppingCartAPI | 2024-03-07 17:42:28.797 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:28.798 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 13.046ms
ShoppingCartAPI | 2024-03-07 17:42:28.798 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:28.798 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 14.3225ms
ShoppingCartAPI | 2024-03-07 17:42:33.347 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:42:33.348 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:33.348 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:33.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:42:33.352 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:42:33.352 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:42:33.359 +03:00 [INF] Received HTTP response headers after 7.3394ms - 200
ShoppingCartAPI | 2024-03-07 17:42:33.359 +03:00 [INF] End processing HTTP request after 7.7204ms - 200
ShoppingCartAPI | 2024-03-07 17:42:33.360 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:33.360 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:42:33.366 +03:00 [INF] Received HTTP response headers after 5.7055ms - 200
ShoppingCartAPI | 2024-03-07 17:42:33.366 +03:00 [INF] End processing HTTP request after 5.8824ms - 200
ShoppingCartAPI | 2024-03-07 17:42:33.367 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:42:33.368 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:42:33.373 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 17:42:33.374 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:33.374 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 26.0829ms
ShoppingCartAPI | 2024-03-07 17:42:33.374 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:33.374 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 26.9794ms
ShoppingCartAPI | 2024-03-07 17:42:33.394 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-07 17:42:33.395 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:33.395 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:33.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:42:33.424 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:33.424 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 29.4272ms
ShoppingCartAPI | 2024-03-07 17:42:33.424 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:33.425 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 30.3337ms
ShoppingCartAPI | 2024-03-07 17:42:36.500 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-07 17:42:36.502 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:36.502 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:42:36.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:42:36.539 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:42:36.540 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 37.7181ms
ShoppingCartAPI | 2024-03-07 17:42:36.540 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:42:36.540 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 40.0157ms
ShoppingCartAPI | 2024-03-07 17:44:02.334 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 17:44:02.468 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 17:44:02.550 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 17:44:02.585 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 17:44:02.830 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 17:44:02.831 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 17:44:02.831 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 17:44:02.854 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:03.229 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:03.283 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:03.862 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:04.008 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:04.070 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:04.071 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:04.452 +03:00 [INF] Received HTTP response headers after 376.3274ms - 200
ShoppingCartAPI | 2024-03-07 17:44:04.455 +03:00 [INF] End processing HTTP request after 390.2678ms - 200
ShoppingCartAPI | 2024-03-07 17:44:04.736 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:04.855 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 1568.0474ms
ShoppingCartAPI | 2024-03-07 17:44:04.857 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:04.873 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 2029.6612ms
ShoppingCartAPI | 2024-03-07 17:44:07.756 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:07.760 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:07.760 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:07.828 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:07.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:07.830 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:07.830 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:07.843 +03:00 [INF] Received HTTP response headers after 12.6923ms - 200
ShoppingCartAPI | 2024-03-07 17:44:07.843 +03:00 [INF] End processing HTTP request after 13.0387ms - 200
ShoppingCartAPI | 2024-03-07 17:44:07.845 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:07.846 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 86.2586ms
ShoppingCartAPI | 2024-03-07 17:44:07.847 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:07.847 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 91.3509ms
ShoppingCartAPI | 2024-03-07 17:44:08.864 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:44:08.871 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:08.880 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:08.976 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:44:09.001 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:44:09.001 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 17:44:09.170 +03:00 [INF] Received HTTP response headers after 169.3274ms - 200
ShoppingCartAPI | 2024-03-07 17:44:09.170 +03:00 [INF] End processing HTTP request after 169.8628ms - 200
ShoppingCartAPI | 2024-03-07 17:44:09.191 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:09.191 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:09.392 +03:00 [INF] Received HTTP response headers after 200.8048ms - 200
ShoppingCartAPI | 2024-03-07 17:44:09.393 +03:00 [INF] End processing HTTP request after 201.3659ms - 200
ShoppingCartAPI | 2024-03-07 17:44:09.469 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:09.494 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:09.677 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 17:44:09.728 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:09.733 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 853.5791ms
ShoppingCartAPI | 2024-03-07 17:44:09.733 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:09.734 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 869.8118ms
ShoppingCartAPI | 2024-03-07 17:44:09.765 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:09.766 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:09.766 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:09.772 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:09.844 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:09.845 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 78.1607ms
ShoppingCartAPI | 2024-03-07 17:44:09.845 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:09.845 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 80.5281ms
ShoppingCartAPI | 2024-03-07 17:44:17.894 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:17.896 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:17.896 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:17.901 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:17.928 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:17.928 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 32.5881ms
ShoppingCartAPI | 2024-03-07 17:44:17.928 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:17.929 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 34.6011ms
ShoppingCartAPI | 2024-03-07 17:44:21.821 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:44:21.822 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:21.826 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:21.855 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:44:21.855 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:44:21.860 +03:00 [INF] Received HTTP response headers after 5.5464ms - 200
ShoppingCartAPI | 2024-03-07 17:44:21.861 +03:00 [INF] End processing HTTP request after 5.9054ms - 200
ShoppingCartAPI | 2024-03-07 17:44:21.879 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:44:21.931 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 17:44:21.970 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:44:21.974 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:21.975 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:22.004 +03:00 [INF] Received HTTP response headers after 29.4877ms - 200
ShoppingCartAPI | 2024-03-07 17:44:22.004 +03:00 [INF] End processing HTTP request after 29.9403ms - 200
ShoppingCartAPI | 2024-03-07 17:44:22.005 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:22.006 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 179.3032ms
ShoppingCartAPI | 2024-03-07 17:44:22.006 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:22.006 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 184.8017ms
ShoppingCartAPI | 2024-03-07 17:44:22.877 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:22.877 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:22.878 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:22.880 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:22.882 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:22.883 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:22.883 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:22.895 +03:00 [INF] Received HTTP response headers after 11.7257ms - 200
ShoppingCartAPI | 2024-03-07 17:44:22.895 +03:00 [INF] End processing HTTP request after 12.0053ms - 200
ShoppingCartAPI | 2024-03-07 17:44:22.896 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:22.897 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 19.0118ms
ShoppingCartAPI | 2024-03-07 17:44:22.897 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:22.897 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 20.4531ms
ShoppingCartAPI | 2024-03-07 17:44:24.732 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:24.733 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:24.733 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:24.735 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:24.736 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:24.737 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:24.737 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:24.742 +03:00 [INF] Received HTTP response headers after 4.6265ms - 200
ShoppingCartAPI | 2024-03-07 17:44:24.742 +03:00 [INF] End processing HTTP request after 4.909ms - 200
ShoppingCartAPI | 2024-03-07 17:44:24.743 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:24.744 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 9.9966ms
ShoppingCartAPI | 2024-03-07 17:44:24.744 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:24.744 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 12.1502ms
ShoppingCartAPI | 2024-03-07 17:44:28.273 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:44:28.274 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:28.274 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:28.275 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:44:28.275 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:44:28.283 +03:00 [INF] Received HTTP response headers after 7.6562ms - 200
ShoppingCartAPI | 2024-03-07 17:44:28.283 +03:00 [INF] End processing HTTP request after 7.9785ms - 200
ShoppingCartAPI | 2024-03-07 17:44:28.288 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:44:28.309 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__First_BookId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeaderId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[BookId] = @__First_BookId_0 AND [c].[CartHeaderId] = @__cartHeaderFromDb_CartHeaderId_1
ShoppingCartAPI | 2024-03-07 17:44:28.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:44:28.312 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:28.312 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:28.320 +03:00 [INF] Received HTTP response headers after 8.4327ms - 200
ShoppingCartAPI | 2024-03-07 17:44:28.321 +03:00 [INF] End processing HTTP request after 8.5788ms - 200
ShoppingCartAPI | 2024-03-07 17:44:28.321 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:28.321 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 46.9689ms
ShoppingCartAPI | 2024-03-07 17:44:28.321 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:28.322 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 48.202ms
ShoppingCartAPI | 2024-03-07 17:44:29.047 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:29.047 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:29.047 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:29.051 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:29.052 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:29.052 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:29.052 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:29.057 +03:00 [INF] Received HTTP response headers after 4.2242ms - 200
ShoppingCartAPI | 2024-03-07 17:44:29.057 +03:00 [INF] End processing HTTP request after 4.4797ms - 200
ShoppingCartAPI | 2024-03-07 17:44:29.058 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:29.059 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 11.3526ms
ShoppingCartAPI | 2024-03-07 17:44:29.059 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:29.059 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 12.8226ms
ShoppingCartAPI | 2024-03-07 17:44:30.060 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:44:30.061 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:30.061 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:30.068 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:44:30.070 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:44:30.070 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:44:30.075 +03:00 [INF] Received HTTP response headers after 4.8849ms - 200
ShoppingCartAPI | 2024-03-07 17:44:30.075 +03:00 [INF] End processing HTTP request after 5.6308ms - 200
ShoppingCartAPI | 2024-03-07 17:44:30.076 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:30.076 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:44:30.086 +03:00 [INF] Received HTTP response headers after 10.0684ms - 200
ShoppingCartAPI | 2024-03-07 17:44:30.087 +03:00 [INF] End processing HTTP request after 10.4923ms - 200
ShoppingCartAPI | 2024-03-07 17:44:30.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:30.091 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
ShoppingCartAPI | 2024-03-07 17:44:30.092 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:30.092 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 31.2218ms
ShoppingCartAPI | 2024-03-07 17:44:30.093 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:30.093 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 32.5383ms
ShoppingCartAPI | 2024-03-07 17:44:30.111 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:30.111 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:30.112 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:30.113 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:30.114 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:30.115 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:30.115 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:30.122 +03:00 [INF] Received HTTP response headers after 7.4746ms - 200
ShoppingCartAPI | 2024-03-07 17:44:30.122 +03:00 [INF] End processing HTTP request after 7.6712ms - 200
ShoppingCartAPI | 2024-03-07 17:44:30.123 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:30.123 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 11.6513ms
ShoppingCartAPI | 2024-03-07 17:44:30.123 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:30.124 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 12.6473ms
ShoppingCartAPI | 2024-03-07 17:44:35.219 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:44:35.220 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:35.220 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:44:35.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:44:35.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:44:35.223 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:35.223 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:44:35.227 +03:00 [INF] Received HTTP response headers after 4.1305ms - 200
ShoppingCartAPI | 2024-03-07 17:44:35.227 +03:00 [INF] End processing HTTP request after 4.2732ms - 200
ShoppingCartAPI | 2024-03-07 17:44:35.228 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:44:35.229 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 8.6292ms
ShoppingCartAPI | 2024-03-07 17:44:35.229 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:44:35.229 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 9.8155ms
ShoppingCartAPI | 2024-03-07 17:52:28.905 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 17:52:29.023 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 17:52:29.083 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 17:52:29.106 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 17:52:29.292 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 17:52:29.293 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 17:52:29.293 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 17:52:29.305 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:52:29.573 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:29.603 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:30.116 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:52:30.224 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:52:30.270 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:52:30.273 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:52:30.574 +03:00 [INF] Received HTTP response headers after 297.4919ms - 200
ShoppingCartAPI | 2024-03-07 17:52:30.576 +03:00 [INF] End processing HTTP request after 310.0237ms - 200
ShoppingCartAPI | 2024-03-07 17:52:30.801 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:30.871 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 1262.1585ms
ShoppingCartAPI | 2024-03-07 17:52:30.872 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:30.880 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 1580.1713ms
ShoppingCartAPI | 2024-03-07 17:52:35.392 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:52:35.396 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:35.402 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:35.448 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:52:35.448 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:52:35.458 +03:00 [INF] Received HTTP response headers after 9.4117ms - 200
ShoppingCartAPI | 2024-03-07 17:52:35.458 +03:00 [INF] End processing HTTP request after 10.0005ms - 200
ShoppingCartAPI | 2024-03-07 17:52:35.599 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:52:35.631 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__First_BookId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeaderId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[BookId] = @__First_BookId_0 AND [c].[CartHeaderId] = @__cartHeaderFromDb_CartHeaderId_1
ShoppingCartAPI | 2024-03-07 17:52:35.800 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:52:35.851 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:52:35.851 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:52:36.096 +03:00 [INF] Received HTTP response headers after 244.6505ms - 200
ShoppingCartAPI | 2024-03-07 17:52:36.096 +03:00 [INF] End processing HTTP request after 245.1519ms - 200
ShoppingCartAPI | 2024-03-07 17:52:36.097 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:36.098 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 695.8171ms
ShoppingCartAPI | 2024-03-07 17:52:36.098 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:36.099 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 707.4232ms
ShoppingCartAPI | 2024-03-07 17:52:37.278 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:52:37.283 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:37.284 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:37.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:52:37.295 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:52:37.296 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:52:37.296 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:52:37.302 +03:00 [INF] Received HTTP response headers after 5.5208ms - 200
ShoppingCartAPI | 2024-03-07 17:52:37.302 +03:00 [INF] End processing HTTP request after 5.8513ms - 200
ShoppingCartAPI | 2024-03-07 17:52:37.304 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:37.306 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 21.9092ms
ShoppingCartAPI | 2024-03-07 17:52:37.306 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:37.306 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 28.1599ms
ShoppingCartAPI | 2024-03-07 17:52:41.167 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:52:41.168 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:41.174 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:41.185 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:52:41.186 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:52:41.186 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 17:52:41.197 +03:00 [INF] Received HTTP response headers after 11.049ms - 200
ShoppingCartAPI | 2024-03-07 17:52:41.197 +03:00 [INF] End processing HTTP request after 11.4114ms - 200
ShoppingCartAPI | 2024-03-07 17:52:41.198 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:52:41.198 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:52:41.208 +03:00 [INF] Received HTTP response headers after 10.3608ms - 200
ShoppingCartAPI | 2024-03-07 17:52:41.208 +03:00 [INF] End processing HTTP request after 10.5935ms - 200
ShoppingCartAPI | 2024-03-07 17:52:41.258 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:52:41.268 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
ShoppingCartAPI | 2024-03-07 17:52:41.274 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:41.279 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 104.9211ms
ShoppingCartAPI | 2024-03-07 17:52:41.279 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:41.280 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 112.8539ms
ShoppingCartAPI | 2024-03-07 17:52:41.308 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:52:41.309 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:41.309 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:41.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:52:41.312 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:52:41.313 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:52:41.313 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:52:41.316 +03:00 [INF] Received HTTP response headers after 3.4989ms - 200
ShoppingCartAPI | 2024-03-07 17:52:41.316 +03:00 [INF] End processing HTTP request after 3.7523ms - 200
ShoppingCartAPI | 2024-03-07 17:52:41.317 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:41.318 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 8.4175ms
ShoppingCartAPI | 2024-03-07 17:52:41.318 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:41.318 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 9.8397ms
ShoppingCartAPI | 2024-03-07 17:52:46.657 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:52:46.658 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:46.658 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:46.663 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:52:46.664 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:52:46.664 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:52:46.676 +03:00 [INF] Received HTTP response headers after 11.9844ms - 200
ShoppingCartAPI | 2024-03-07 17:52:46.676 +03:00 [INF] End processing HTTP request after 12.2236ms - 200
ShoppingCartAPI | 2024-03-07 17:52:46.677 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:52:46.677 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:52:46.683 +03:00 [INF] Received HTTP response headers after 6.5717ms - 200
ShoppingCartAPI | 2024-03-07 17:52:46.683 +03:00 [INF] End processing HTTP request after 6.7793ms - 200
ShoppingCartAPI | 2024-03-07 17:52:46.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:52:46.695 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:52:46.732 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 17:52:46.747 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:46.748 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 90.0934ms
ShoppingCartAPI | 2024-03-07 17:52:46.748 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:46.749 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 92.8418ms
ShoppingCartAPI | 2024-03-07 17:52:46.764 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:52:46.764 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:46.764 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:46.766 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:52:46.822 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:46.823 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 58.3659ms
ShoppingCartAPI | 2024-03-07 17:52:46.823 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:46.823 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 59.5732ms
ShoppingCartAPI | 2024-03-07 17:52:56.425 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:52:56.426 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:56.426 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:52:56.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:52:56.454 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:52:56.456 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 29.548ms
ShoppingCartAPI | 2024-03-07 17:52:56.456 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:52:56.456 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 30.7792ms
ShoppingCartAPI | 2024-03-07 17:54:29.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:54:29.476 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:54:29.476 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:54:29.481 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:54:29.505 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:54:29.505 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 29.3479ms
ShoppingCartAPI | 2024-03-07 17:54:29.505 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:54:29.506 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 31.4178ms
ShoppingCartAPI | 2024-03-07 17:55:09.227 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:55:09.228 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:55:09.228 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:55:09.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:55:09.249 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:55:09.250 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 21.782ms
ShoppingCartAPI | 2024-03-07 17:55:09.250 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:55:09.250 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 22.786ms
ShoppingCartAPI | 2024-03-07 17:57:17.042 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 17:57:17.168 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 17:57:17.218 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 17:57:17.241 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 17:57:17.444 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 17:57:17.445 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 17:57:17.445 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 17:57:17.460 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:57:17.724 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:57:17.753 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:57:18.170 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:57:18.231 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:57:18.280 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 523.4327ms
ShoppingCartAPI | 2024-03-07 17:57:18.283 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:57:18.291 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 837.0944ms
ShoppingCartAPI | 2024-03-07 17:58:42.413 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 17:58:42.519 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 17:58:42.574 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 17:58:42.601 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 17:58:42.805 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 17:58:42.806 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 17:58:42.806 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 17:58:42.820 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:58:43.092 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:58:43.123 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:58:43.638 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:58:43.720 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:58:43.776 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 645.2927ms
ShoppingCartAPI | 2024-03-07 17:58:43.778 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:58:43.784 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 968.0543ms
ShoppingCartAPI | 2024-03-07 17:58:59.855 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:58:59.861 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:58:59.861 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:58:59.963 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:58:59.997 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:58:59.999 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 137.2946ms
ShoppingCartAPI | 2024-03-07 17:58:59.999 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:00.000 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 144.5215ms
ShoppingCartAPI | 2024-03-07 17:59:03.203 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 17:59:03.210 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:03.218 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:59:03.327 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:59:03.330 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:59:03.679 +03:00 [INF] Received HTTP response headers after 345.0835ms - 200
ShoppingCartAPI | 2024-03-07 17:59:03.680 +03:00 [INF] End processing HTTP request after 355.326ms - 200
ShoppingCartAPI | 2024-03-07 17:59:03.949 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 17:59:04.241 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 17:59:04.330 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 17:59:04.362 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:59:04.362 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:59:04.657 +03:00 [INF] Received HTTP response headers after 294.6565ms - 200
ShoppingCartAPI | 2024-03-07 17:59:04.657 +03:00 [INF] End processing HTTP request after 295.2916ms - 200
ShoppingCartAPI | 2024-03-07 17:59:04.660 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:59:04.668 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 1449.9253ms
ShoppingCartAPI | 2024-03-07 17:59:04.669 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:04.673 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 1469.4673ms
ShoppingCartAPI | 2024-03-07 17:59:06.103 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:59:06.104 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:06.104 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:59:06.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:59:06.147 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:59:06.152 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:59:06.152 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:59:06.165 +03:00 [INF] Received HTTP response headers after 12.9894ms - 200
ShoppingCartAPI | 2024-03-07 17:59:06.166 +03:00 [INF] End processing HTTP request after 13.3741ms - 200
ShoppingCartAPI | 2024-03-07 17:59:06.180 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:59:06.185 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 80.7139ms
ShoppingCartAPI | 2024-03-07 17:59:06.185 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:06.185 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 82.8144ms
ShoppingCartAPI | 2024-03-07 17:59:08.114 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:59:08.115 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:08.115 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:59:08.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:59:08.120 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:59:08.121 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:59:08.121 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 17:59:08.127 +03:00 [INF] Received HTTP response headers after 5.8992ms - 200
ShoppingCartAPI | 2024-03-07 17:59:08.127 +03:00 [INF] End processing HTTP request after 6.2813ms - 200
ShoppingCartAPI | 2024-03-07 17:59:08.130 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:59:08.131 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 16.0132ms
ShoppingCartAPI | 2024-03-07 17:59:08.131 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:08.131 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 17.5964ms
ShoppingCartAPI | 2024-03-07 17:59:09.256 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 17:59:09.256 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:09.261 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:59:09.282 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 17:59:09.284 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:59:09.284 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 17:59:09.289 +03:00 [INF] Received HTTP response headers after 5.6628ms - 200
ShoppingCartAPI | 2024-03-07 17:59:09.289 +03:00 [INF] End processing HTTP request after 5.9327ms - 200
ShoppingCartAPI | 2024-03-07 17:59:09.290 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:59:09.290 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 17:59:09.303 +03:00 [INF] Received HTTP response headers after 13.0579ms - 200
ShoppingCartAPI | 2024-03-07 17:59:09.303 +03:00 [INF] End processing HTTP request after 13.3558ms - 200
ShoppingCartAPI | 2024-03-07 17:59:09.387 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:59:09.399 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 17:59:09.444 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 17:59:09.465 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:59:09.470 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 208.5867ms
ShoppingCartAPI | 2024-03-07 17:59:09.470 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:09.470 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 214.8791ms
ShoppingCartAPI | 2024-03-07 17:59:09.496 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:59:09.496 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:09.496 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:59:09.499 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:59:09.532 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:59:09.532 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 35.7152ms
ShoppingCartAPI | 2024-03-07 17:59:09.532 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:09.533 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 36.9815ms
ShoppingCartAPI | 2024-03-07 17:59:31.153 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 17:59:31.154 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:31.154 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 17:59:31.156 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 17:59:31.188 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 17:59:31.188 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 34.357ms
ShoppingCartAPI | 2024-03-07 17:59:31.189 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 17:59:31.189 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 35.8477ms
ShoppingCartAPI | 2024-03-07 18:08:57.089 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 18:08:57.216 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 18:08:57.279 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 18:08:57.315 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 18:08:57.535 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 18:08:57.536 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 18:08:57.536 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 18:08:57.561 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 18:08:57.909 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:08:57.948 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:08:58.590 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 18:08:58.676 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:08:58.728 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 774.9676ms
ShoppingCartAPI | 2024-03-07 18:08:58.731 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:08:58.747 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 1196.8675ms
ShoppingCartAPI | 2024-03-07 18:09:18.681 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 18:09:18.684 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:09:18.687 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:09:18.740 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:09:18.741 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:09:18.961 +03:00 [INF] Received HTTP response headers after 217.7037ms - 200
ShoppingCartAPI | 2024-03-07 18:09:18.962 +03:00 [INF] End processing HTTP request after 222.4933ms - 200
ShoppingCartAPI | 2024-03-07 18:09:19.147 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 18:09:19.295 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 18:09:19.344 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 18:09:19.357 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:09:19.357 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:09:19.519 +03:00 [INF] Received HTTP response headers after 161.4581ms - 200
ShoppingCartAPI | 2024-03-07 18:09:19.519 +03:00 [INF] End processing HTTP request after 161.8087ms - 200
ShoppingCartAPI | 2024-03-07 18:09:19.521 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:09:19.526 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 838.7298ms
ShoppingCartAPI | 2024-03-07 18:09:19.526 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:09:19.529 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 850.4204ms
ShoppingCartAPI | 2024-03-07 18:11:28.105 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 18:11:28.236 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 18:11:28.339 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 18:11:28.366 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 18:11:28.596 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 18:11:28.596 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 18:11:28.597 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 18:11:28.616 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 18:11:28.946 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:28.980 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:11:29.496 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 18:11:29.619 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 18:11:29.667 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 18:11:29.668 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 18:11:29.987 +03:00 [INF] Received HTTP response headers after 314.7222ms - 200
ShoppingCartAPI | 2024-03-07 18:11:29.989 +03:00 [INF] End processing HTTP request after 326.2314ms - 200
ShoppingCartAPI | 2024-03-07 18:11:30.219 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:11:30.305 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 1320.4872ms
ShoppingCartAPI | 2024-03-07 18:11:30.306 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:30.324 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 1718.9367ms
ShoppingCartAPI | 2024-03-07 18:11:34.434 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 18:11:34.439 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:34.451 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:11:34.622 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 18:11:34.642 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:11:34.643 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:11:34.808 +03:00 [INF] Received HTTP response headers after 165.1293ms - 200
ShoppingCartAPI | 2024-03-07 18:11:34.809 +03:00 [INF] End processing HTTP request after 166.1715ms - 200
ShoppingCartAPI | 2024-03-07 18:11:34.833 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:11:34.834 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:11:35.129 +03:00 [INF] Received HTTP response headers after 294.7547ms - 200
ShoppingCartAPI | 2024-03-07 18:11:35.129 +03:00 [INF] End processing HTTP request after 295.3422ms - 200
ShoppingCartAPI | 2024-03-07 18:11:35.222 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 18:11:35.249 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 18:11:35.423 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 18:11:35.463 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:11:35.469 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 1017.4001ms
ShoppingCartAPI | 2024-03-07 18:11:35.469 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:35.470 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 1036.0758ms
ShoppingCartAPI | 2024-03-07 18:11:35.499 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 18:11:35.505 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:35.505 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:11:35.517 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 18:11:35.586 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:11:35.587 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 81.6972ms
ShoppingCartAPI | 2024-03-07 18:11:35.587 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:35.587 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 88.3513ms
ShoppingCartAPI | 2024-03-07 18:11:52.438 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 18:11:52.438 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:52.444 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:11:52.461 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 18:11:52.462 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 18:11:52.466 +03:00 [INF] Received HTTP response headers after 4.1534ms - 200
ShoppingCartAPI | 2024-03-07 18:11:52.466 +03:00 [INF] End processing HTTP request after 4.5918ms - 200
ShoppingCartAPI | 2024-03-07 18:11:52.478 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 18:11:52.506 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 18:11:52.528 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 18:11:52.531 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:11:52.531 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:11:52.544 +03:00 [INF] Received HTTP response headers after 13.4374ms - 200
ShoppingCartAPI | 2024-03-07 18:11:52.544 +03:00 [INF] End processing HTTP request after 13.7292ms - 200
ShoppingCartAPI | 2024-03-07 18:11:52.545 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:11:52.545 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 101.3238ms
ShoppingCartAPI | 2024-03-07 18:11:52.545 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:11:52.546 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 108.1858ms
ShoppingCartAPI | 2024-03-07 18:18:20.515 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 18:18:20.648 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 18:18:20.750 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 18:18:20.781 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 18:18:21.012 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 18:18:21.013 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 18:18:21.013 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 18:18:21.028 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 18:18:21.326 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:18:21.360 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:18:21.926 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 18:18:22.055 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 18:18:22.122 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 18:18:22.124 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 18:18:22.460 +03:00 [INF] Received HTTP response headers after 331.8361ms - 200
ShoppingCartAPI | 2024-03-07 18:18:22.464 +03:00 [INF] End processing HTTP request after 345.8513ms - 200
ShoppingCartAPI | 2024-03-07 18:18:22.707 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:18:22.809 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 1441.5954ms
ShoppingCartAPI | 2024-03-07 18:18:22.811 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:18:22.827 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 1804.739ms
ShoppingCartAPI | 2024-03-07 18:20:16.067 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 18:20:16.073 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:16.084 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:20:16.327 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 18:20:16.352 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 18:20:16.352 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 18:20:16.575 +03:00 [INF] Received HTTP response headers after 223.1046ms - 200
ShoppingCartAPI | 2024-03-07 18:20:16.575 +03:00 [INF] End processing HTTP request after 223.7197ms - 200
ShoppingCartAPI | 2024-03-07 18:20:16.600 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:20:16.600 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:20:16.924 +03:00 [INF] Received HTTP response headers after 323.1188ms - 200
ShoppingCartAPI | 2024-03-07 18:20:16.924 +03:00 [INF] End processing HTTP request after 324.2053ms - 200
ShoppingCartAPI | 2024-03-07 18:20:17.016 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 18:20:17.051 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 18:20:17.239 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 18:20:17.281 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:20:17.287 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 1202.8555ms
ShoppingCartAPI | 2024-03-07 18:20:17.287 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:17.288 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 1221.2232ms
ShoppingCartAPI | 2024-03-07 18:20:17.339 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 18:20:17.347 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:17.347 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:20:17.358 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 18:20:17.431 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:20:17.432 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 84.9956ms
ShoppingCartAPI | 2024-03-07 18:20:17.433 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:17.433 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 94.1914ms
ShoppingCartAPI | 2024-03-07 18:20:36.800 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 18:20:36.801 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:36.807 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:20:36.837 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:20:36.837 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:20:36.855 +03:00 [INF] Received HTTP response headers after 17.7791ms - 200
ShoppingCartAPI | 2024-03-07 18:20:36.856 +03:00 [INF] End processing HTTP request after 18.4913ms - 200
ShoppingCartAPI | 2024-03-07 18:20:36.875 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 18:20:36.922 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 18:20:36.963 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 18:20:36.966 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:20:36.966 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:20:36.991 +03:00 [INF] Received HTTP response headers after 25.139ms - 200
ShoppingCartAPI | 2024-03-07 18:20:36.991 +03:00 [INF] End processing HTTP request after 25.7263ms - 200
ShoppingCartAPI | 2024-03-07 18:20:36.992 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:20:36.993 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 185.2705ms
ShoppingCartAPI | 2024-03-07 18:20:36.993 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:36.993 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 193.3863ms
ShoppingCartAPI | 2024-03-07 18:20:54.686 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 18:20:54.687 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:54.688 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 18:20:54.689 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:20:54.689 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 18:20:54.694 +03:00 [INF] Received HTTP response headers after 5.3196ms - 200
ShoppingCartAPI | 2024-03-07 18:20:54.695 +03:00 [INF] End processing HTTP request after 5.8869ms - 200
ShoppingCartAPI | 2024-03-07 18:20:54.701 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 18:20:54.716 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__First_BookId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeaderId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[BookId] = @__First_BookId_0 AND [c].[CartHeaderId] = @__cartHeaderFromDb_CartHeaderId_1
ShoppingCartAPI | 2024-03-07 18:20:54.727 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetails] SET [BookId] = @p0, [CartHeaderId] = @p1, [Count] = @p2
OUTPUT 1
WHERE [CartDetailsId] = @p3;
ShoppingCartAPI | 2024-03-07 18:20:54.727 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:20:54.727 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 18:20:54.746 +03:00 [INF] Received HTTP response headers after 18.7277ms - 200
ShoppingCartAPI | 2024-03-07 18:20:54.746 +03:00 [INF] End processing HTTP request after 18.9739ms - 200
ShoppingCartAPI | 2024-03-07 18:20:54.747 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 18:20:54.748 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 59.8794ms
ShoppingCartAPI | 2024-03-07 18:20:54.748 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 18:20:54.748 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 62.0885ms
ShoppingCartAPI | 2024-03-07 21:45:40.615 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 21:45:40.789 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 21:45:40.921 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 21:45:40.969 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 21:45:41.271 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 21:45:41.272 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 21:45:41.272 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 21:45:41.297 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 21:45:42.054 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:45:42.118 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:45:43.159 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 21:45:43.415 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:45:43.570 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:45:43.572 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:45:44.220 +03:00 [INF] Received HTTP response headers after 640.2774ms - 200
ShoppingCartAPI | 2024-03-07 21:45:44.227 +03:00 [INF] End processing HTTP request after 663.8797ms - 200
ShoppingCartAPI | 2024-03-07 21:45:44.668 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:45:44.840 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 2710.5575ms
ShoppingCartAPI | 2024-03-07 21:45:44.842 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:45:44.871 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 3586.0383ms
ShoppingCartAPI | 2024-03-07 21:46:07.921 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 21:46:07.931 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:07.943 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:08.072 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 21:46:08.099 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 21:46:08.099 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 21:46:08.123 +03:00 [INF] Received HTTP response headers after 24.0479ms - 200
ShoppingCartAPI | 2024-03-07 21:46:08.123 +03:00 [INF] End processing HTTP request after 24.7671ms - 200
ShoppingCartAPI | 2024-03-07 21:46:08.147 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:08.147 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:08.192 +03:00 [INF] Received HTTP response headers after 44.8202ms - 200
ShoppingCartAPI | 2024-03-07 21:46:08.192 +03:00 [INF] End processing HTTP request after 45.3354ms - 200
ShoppingCartAPI | 2024-03-07 21:46:08.246 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:08.271 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:08.368 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 21:46:08.446 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:08.452 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 509.4424ms
ShoppingCartAPI | 2024-03-07 21:46:08.453 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:08.455 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 534.3089ms
ShoppingCartAPI | 2024-03-07 21:46:19.042 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 21:46:19.045 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:19.045 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:19.053 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 21:46:19.105 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:19.106 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 60.8427ms
ShoppingCartAPI | 2024-03-07 21:46:19.106 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:19.106 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 64.3494ms
ShoppingCartAPI | 2024-03-07 21:46:34.843 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 21:46:34.845 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:34.852 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:34.881 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 21:46:34.881 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 21:46:34.887 +03:00 [INF] Received HTTP response headers after 6.0601ms - 200
ShoppingCartAPI | 2024-03-07 21:46:34.887 +03:00 [INF] End processing HTTP request after 6.4161ms - 200
ShoppingCartAPI | 2024-03-07 21:46:34.909 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 21:46:34.946 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 21:46:34.985 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 21:46:34.988 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:34.989 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:35.001 +03:00 [INF] Received HTTP response headers after 12.0217ms - 200
ShoppingCartAPI | 2024-03-07 21:46:35.001 +03:00 [INF] End processing HTTP request after 12.7291ms - 200
ShoppingCartAPI | 2024-03-07 21:46:35.002 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:35.003 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 150.3664ms
ShoppingCartAPI | 2024-03-07 21:46:35.003 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:35.003 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 159.8932ms
ShoppingCartAPI | 2024-03-07 21:46:38.111 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 21:46:38.113 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:38.114 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:38.119 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 21:46:38.130 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:38.131 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:38.131 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:38.144 +03:00 [INF] Received HTTP response headers after 12.9953ms - 200
ShoppingCartAPI | 2024-03-07 21:46:38.144 +03:00 [INF] End processing HTTP request after 13.5145ms - 200
ShoppingCartAPI | 2024-03-07 21:46:38.146 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:38.148 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 33.5251ms
ShoppingCartAPI | 2024-03-07 21:46:38.148 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:38.148 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 37.565ms
ShoppingCartAPI | 2024-03-07 21:46:43.812 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 21:46:43.813 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:43.814 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:43.818 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 21:46:43.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:43.821 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:43.821 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:43.832 +03:00 [INF] Received HTTP response headers after 10.9332ms - 200
ShoppingCartAPI | 2024-03-07 21:46:43.833 +03:00 [INF] End processing HTTP request after 11.4808ms - 200
ShoppingCartAPI | 2024-03-07 21:46:43.834 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:43.836 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 22.5821ms
ShoppingCartAPI | 2024-03-07 21:46:43.837 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:43.837 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 25.6738ms
ShoppingCartAPI | 2024-03-07 21:46:46.715 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 21:46:46.717 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:46.717 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:46.719 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 21:46:46.719 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 21:46:46.739 +03:00 [INF] Received HTTP response headers after 19.4353ms - 200
ShoppingCartAPI | 2024-03-07 21:46:46.739 +03:00 [INF] End processing HTTP request after 19.8424ms - 200
ShoppingCartAPI | 2024-03-07 21:46:46.747 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 21:46:46.793 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__First_BookId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeaderId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[BookId] = @__First_BookId_0 AND [c].[CartHeaderId] = @__cartHeaderFromDb_CartHeaderId_1
ShoppingCartAPI | 2024-03-07 21:46:46.802 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 21:46:46.805 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:46.805 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:46.821 +03:00 [INF] Received HTTP response headers after 16.2959ms - 200
ShoppingCartAPI | 2024-03-07 21:46:46.822 +03:00 [INF] End processing HTTP request after 16.8089ms - 200
ShoppingCartAPI | 2024-03-07 21:46:46.822 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:46.823 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 106.0406ms
ShoppingCartAPI | 2024-03-07 21:46:46.823 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:46.823 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 108.1229ms
ShoppingCartAPI | 2024-03-07 21:46:50.812 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 21:46:50.813 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:50.813 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:50.818 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 21:46:50.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:50.822 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:50.822 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:50.836 +03:00 [INF] Received HTTP response headers after 13.4659ms - 200
ShoppingCartAPI | 2024-03-07 21:46:50.836 +03:00 [INF] End processing HTTP request after 13.7907ms - 200
ShoppingCartAPI | 2024-03-07 21:46:50.838 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:50.839 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 26.0321ms
ShoppingCartAPI | 2024-03-07 21:46:50.840 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:50.840 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 28.5849ms
ShoppingCartAPI | 2024-03-07 21:46:52.571 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 21:46:52.572 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:52.572 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:52.581 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 21:46:52.583 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 21:46:52.584 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 21:46:52.594 +03:00 [INF] Received HTTP response headers after 10.6155ms - 200
ShoppingCartAPI | 2024-03-07 21:46:52.594 +03:00 [INF] End processing HTTP request after 11.0049ms - 200
ShoppingCartAPI | 2024-03-07 21:46:52.595 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:52.595 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:52.615 +03:00 [INF] Received HTTP response headers after 19.8627ms - 200
ShoppingCartAPI | 2024-03-07 21:46:52.616 +03:00 [INF] End processing HTTP request after 20.2398ms - 200
ShoppingCartAPI | 2024-03-07 21:46:52.621 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:52.631 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
ShoppingCartAPI | 2024-03-07 21:46:52.632 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:52.634 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 61.6789ms
ShoppingCartAPI | 2024-03-07 21:46:52.634 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:52.634 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 63.6879ms
ShoppingCartAPI | 2024-03-07 21:46:52.677 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 21:46:52.678 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:52.678 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:52.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 21:46:52.684 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:52.685 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:52.685 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 21:46:52.694 +03:00 [INF] Received HTTP response headers after 8.4504ms - 200
ShoppingCartAPI | 2024-03-07 21:46:52.694 +03:00 [INF] End processing HTTP request after 8.8326ms - 200
ShoppingCartAPI | 2024-03-07 21:46:52.696 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:52.697 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 18.4714ms
ShoppingCartAPI | 2024-03-07 21:46:52.697 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:52.698 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 21.2061ms
ShoppingCartAPI | 2024-03-07 21:46:55.312 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 21:46:55.313 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:55.313 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:55.322 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 21:46:55.324 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 21:46:55.324 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 21:46:55.332 +03:00 [INF] Received HTTP response headers after 7.0008ms - 200
ShoppingCartAPI | 2024-03-07 21:46:55.332 +03:00 [INF] End processing HTTP request after 7.3764ms - 200
ShoppingCartAPI | 2024-03-07 21:46:55.333 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:55.333 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 21:46:55.348 +03:00 [INF] Received HTTP response headers after 15.2151ms - 200
ShoppingCartAPI | 2024-03-07 21:46:55.348 +03:00 [INF] End processing HTTP request after 15.6274ms - 200
ShoppingCartAPI | 2024-03-07 21:46:55.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:55.355 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 21:46:55.362 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 21:46:55.364 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:55.366 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 52.7286ms
ShoppingCartAPI | 2024-03-07 21:46:55.366 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:55.366 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 54.5207ms
ShoppingCartAPI | 2024-03-07 21:46:55.416 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 21:46:55.417 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:55.417 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 21:46:55.425 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 21:46:55.486 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 21:46:55.487 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 69.4722ms
ShoppingCartAPI | 2024-03-07 21:46:55.487 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 21:46:55.487 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 71.709ms
ShoppingCartAPI | 2024-03-07 22:49:07.489 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 22:49:07.709 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 22:49:07.813 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 22:49:07.867 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 22:49:08.184 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 22:49:08.186 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 22:49:08.186 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 22:49:08.213 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 22:49:08.858 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:08.904 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 22:49:09.148 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 22:49:09.152 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-07 22:49:09.594 +03:00 [INF] Received HTTP response headers after 438.9962ms - 200
ShoppingCartAPI | 2024-03-07 22:49:09.596 +03:00 [INF] End processing HTTP request after 457.1958ms - 200
ShoppingCartAPI | 2024-03-07 22:49:10.778 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 22:49:11.167 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 22:49:11.288 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 22:49:11.328 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 22:49:11.328 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 22:49:11.752 +03:00 [INF] Received HTTP response headers after 423.5278ms - 200
ShoppingCartAPI | 2024-03-07 22:49:11.752 +03:00 [INF] End processing HTTP request after 424.3484ms - 200
ShoppingCartAPI | 2024-03-07 22:49:11.762 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 22:49:11.815 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 2903.0324ms
ShoppingCartAPI | 2024-03-07 22:49:11.816 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:11.834 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 3636.9411ms
ShoppingCartAPI | 2024-03-07 22:49:15.621 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 22:49:15.651 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:15.666 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 22:49:15.927 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 22:49:16.013 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 22:49:16.020 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 22:49:16.020 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 22:49:16.047 +03:00 [INF] Received HTTP response headers after 26.0819ms - 200
ShoppingCartAPI | 2024-03-07 22:49:16.047 +03:00 [INF] End processing HTTP request after 27.0421ms - 200
ShoppingCartAPI | 2024-03-07 22:49:16.076 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 22:49:16.086 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 419.6822ms
ShoppingCartAPI | 2024-03-07 22:49:16.086 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:16.088 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 467.046ms
ShoppingCartAPI | 2024-03-07 22:49:19.308 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 22:49:19.376 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:19.377 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 22:49:19.395 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 22:49:19.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 22:49:19.404 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 22:49:19.404 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 22:49:19.446 +03:00 [INF] Received HTTP response headers after 41.1141ms - 200
ShoppingCartAPI | 2024-03-07 22:49:19.446 +03:00 [INF] End processing HTTP request after 41.8546ms - 200
ShoppingCartAPI | 2024-03-07 22:49:19.450 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 22:49:19.451 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 74.2673ms
ShoppingCartAPI | 2024-03-07 22:49:19.452 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:19.452 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 144.6396ms
ShoppingCartAPI | 2024-03-07 22:49:23.821 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 22:49:23.824 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:23.825 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 22:49:23.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 22:49:23.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 22:49:23.834 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 22:49:23.834 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 22:49:23.847 +03:00 [INF] Received HTTP response headers after 12.85ms - 200
ShoppingCartAPI | 2024-03-07 22:49:23.847 +03:00 [INF] End processing HTTP request after 13.3101ms - 200
ShoppingCartAPI | 2024-03-07 22:49:23.849 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 22:49:23.851 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 25.4501ms
ShoppingCartAPI | 2024-03-07 22:49:23.851 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:23.851 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 30.8508ms
ShoppingCartAPI | 2024-03-07 22:49:47.484 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-07 22:49:47.484 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:47.491 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 22:49:47.505 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 22:49:47.531 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 22:49:47.577 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 22:49:47.604 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 22:49:47.610 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 118.7064ms
ShoppingCartAPI | 2024-03-07 22:49:47.610 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 22:49:47.611 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 127.2988ms
ShoppingCartAPI | 2024-03-07 23:10:51.649 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-07 23:10:51.924 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-07 23:10:52.079 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-07 23:10:52.133 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-07 23:10:52.570 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-07 23:10:52.571 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-07 23:10:52.571 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-07 23:10:52.611 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-07 23:10:53.194 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:10:53.265 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:10:53.543 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 23:10:53.546 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 23:10:54.219 +03:00 [INF] Received HTTP response headers after 663.8571ms - 200
ShoppingCartAPI | 2024-03-07 23:10:54.223 +03:00 [INF] End processing HTTP request after 688.4723ms - 200
ShoppingCartAPI | 2024-03-07 23:10:55.611 +03:00 [INF] Executed DbCommand (154ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 23:10:56.207 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 23:10:56.419 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 23:10:56.471 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 23:10:56.472 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 23:10:56.530 +03:00 [INF] Received HTTP response headers after 58.3338ms - 200
ShoppingCartAPI | 2024-03-07 23:10:56.531 +03:00 [INF] End processing HTTP request after 59.2022ms - 200
ShoppingCartAPI | 2024-03-07 23:10:56.553 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:10:56.633 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 3357.4267ms
ShoppingCartAPI | 2024-03-07 23:10:56.634 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:10:56.648 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 4058.5188ms
ShoppingCartAPI | 2024-03-07 23:10:59.490 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 23:10:59.510 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:10:59.521 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:10:59.693 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 23:10:59.757 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 23:10:59.764 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:10:59.764 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:10:59.785 +03:00 [INF] Received HTTP response headers after 19.9972ms - 200
ShoppingCartAPI | 2024-03-07 23:10:59.785 +03:00 [INF] End processing HTTP request after 20.9349ms - 200
ShoppingCartAPI | 2024-03-07 23:10:59.809 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:10:59.817 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 295.4325ms
ShoppingCartAPI | 2024-03-07 23:10:59.817 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:10:59.819 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 329.4483ms
ShoppingCartAPI | 2024-03-07 23:11:04.780 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-07 23:11:04.790 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:04.804 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:11:04.857 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__CartDetailsId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartDetailsId] = @__CartDetailsId_0
ShoppingCartAPI | 2024-03-07 23:11:04.860 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 23:11:04.861 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-07 23:11:04.873 +03:00 [INF] Received HTTP response headers after 12.2069ms - 200
ShoppingCartAPI | 2024-03-07 23:11:04.873 +03:00 [INF] End processing HTTP request after 13.066ms - 200
ShoppingCartAPI | 2024-03-07 23:11:04.876 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 23:11:04.877 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 23:11:04.945 +03:00 [INF] Received HTTP response headers after 68.3409ms - 200
ShoppingCartAPI | 2024-03-07 23:11:04.945 +03:00 [INF] End processing HTTP request after 69.0414ms - 200
ShoppingCartAPI | 2024-03-07 23:11:05.093 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 23:11:05.117 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartDetails_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[CartHeaderId] = @__cartDetails_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 23:11:05.202 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 23:11:05.243 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:11:05.251 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 446.7386ms
ShoppingCartAPI | 2024-03-07 23:11:05.252 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:05.253 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 473.1626ms
ShoppingCartAPI | 2024-03-07 23:11:05.296 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 23:11:05.299 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:05.300 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:11:05.313 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 23:11:05.463 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:11:05.464 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 164.5908ms
ShoppingCartAPI | 2024-03-07 23:11:05.465 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:05.465 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 169.7146ms
ShoppingCartAPI | 2024-03-07 23:11:08.911 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 256
ShoppingCartAPI | 2024-03-07 23:11:08.914 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:08.914 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:11:08.918 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 23:11:08.918 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/10
ShoppingCartAPI | 2024-03-07 23:11:08.935 +03:00 [INF] Received HTTP response headers after 17.2041ms - 200
ShoppingCartAPI | 2024-03-07 23:11:08.936 +03:00 [INF] End processing HTTP request after 18.0658ms - 200
ShoppingCartAPI | 2024-03-07 23:11:08.949 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-07 23:11:09.001 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-07 23:11:09.011 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-07 23:11:09.013 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 23:11:09.013 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-07 23:11:09.026 +03:00 [INF] Received HTTP response headers after 13.0315ms - 200
ShoppingCartAPI | 2024-03-07 23:11:09.026 +03:00 [INF] End processing HTTP request after 13.5907ms - 200
ShoppingCartAPI | 2024-03-07 23:11:09.028 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:11:09.029 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 114.3254ms
ShoppingCartAPI | 2024-03-07 23:11:09.029 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:09.030 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 118.8261ms
ShoppingCartAPI | 2024-03-07 23:11:10.161 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 23:11:10.163 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:10.163 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:11:10.173 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 23:11:10.179 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 23:11:10.181 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:11:10.181 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:11:10.194 +03:00 [INF] Received HTTP response headers after 13.2821ms - 200
ShoppingCartAPI | 2024-03-07 23:11:10.195 +03:00 [INF] End processing HTTP request after 13.9253ms - 200
ShoppingCartAPI | 2024-03-07 23:11:10.197 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:11:10.199 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 35.1983ms
ShoppingCartAPI | 2024-03-07 23:11:10.199 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:10.199 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 39.8178ms
ShoppingCartAPI | 2024-03-07 23:11:11.150 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 23:11:11.152 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:11.152 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:11:11.156 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 23:11:11.160 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 23:11:11.161 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:11:11.161 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:11:11.171 +03:00 [INF] Received HTTP response headers after 9.7235ms - 200
ShoppingCartAPI | 2024-03-07 23:11:11.171 +03:00 [INF] End processing HTTP request after 10.0942ms - 200
ShoppingCartAPI | 2024-03-07 23:11:11.173 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:11:11.175 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 23.089ms
ShoppingCartAPI | 2024-03-07 23:11:11.176 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:11.176 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 26.7961ms
ShoppingCartAPI | 2024-03-07 23:11:13.202 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-07 23:11:13.203 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:13.203 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:11:13.213 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 23:11:13.251 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 23:11:13.252 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:11:13.252 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-07 23:11:13.262 +03:00 [INF] Received HTTP response headers after 9.8164ms - 200
ShoppingCartAPI | 2024-03-07 23:11:13.262 +03:00 [INF] End processing HTTP request after 10.235ms - 200
ShoppingCartAPI | 2024-03-07 23:11:13.264 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:11:13.265 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 61.4314ms
ShoppingCartAPI | 2024-03-07 23:11:13.265 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:13.266 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 63.9168ms
ShoppingCartAPI | 2024-03-07 23:11:28.870 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-07 23:11:28.871 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:28.883 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-07 23:11:28.901 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-07 23:11:28.930 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-07 23:11:28.939 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-07 23:11:28.960 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-07 23:11:28.961 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 78.377ms
ShoppingCartAPI | 2024-03-07 23:11:28.962 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-07 23:11:28.962 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 92.482ms
