ShoppingCartAPI | 2024-03-29 03:48:24.830 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-29 03:48:24.912 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-29 03:48:24.954 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-29 03:48:24.975 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-29 03:48:25.125 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-29 03:48:25.125 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-29 03:48:25.125 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-29 03:48:25.141 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:48:28.231 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:28.246 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:28.519 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:48:28.604 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 355.3708ms
ShoppingCartAPI | 2024-03-29 03:48:28.606 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:28.607 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at lambda_method15(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at ShoppingCartAPI.Controllers.CartAPIController.GetCart(String userId) in C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI\Controllers\CartAPIController.cs:line 39
   at lambda_method9(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ShoppingCartAPI | 2024-03-29 03:48:28.740 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 500 null application/json; charset=utf-8 3608.1157ms
ShoppingCartAPI | 2024-03-29 03:48:43.926 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 03:48:43.930 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:43.935 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:44.118 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:48:44.119 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:48:44.501 +03:00 [INF] Received HTTP response headers after 380.2209ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.501 +03:00 [INF] End processing HTTP request after 384.3362ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.503 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:48:44.503 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:48:44.525 +03:00 [INF] Received HTTP response headers after 22.3175ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.525 +03:00 [INF] End processing HTTP request after 22.5878ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.527 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:48:44.527 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:48:44.549 +03:00 [INF] Received HTTP response headers after 21.577ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.549 +03:00 [INF] End processing HTTP request after 21.8077ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.659 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 03:48:44.785 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 03:48:44.829 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 03:48:44.836 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:48:44.836 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:48:44.850 +03:00 [INF] Received HTTP response headers after 13.2334ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.850 +03:00 [INF] End processing HTTP request after 13.519ms - 200
ShoppingCartAPI | 2024-03-29 03:48:44.854 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:48:44.861 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 925.8037ms
ShoppingCartAPI | 2024-03-29 03:48:44.862 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:44.866 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 940.4284ms
ShoppingCartAPI | 2024-03-29 03:48:46.292 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:48:46.295 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:46.295 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:46.302 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:48:46.323 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:48:46.324 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:46.324 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:46.340 +03:00 [INF] Received HTTP response headers after 15.8189ms - 200
ShoppingCartAPI | 2024-03-29 03:48:46.341 +03:00 [INF] End processing HTTP request after 16.4699ms - 200
ShoppingCartAPI | 2024-03-29 03:48:46.351 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:48:46.354 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 58.6435ms
ShoppingCartAPI | 2024-03-29 03:48:46.354 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:46.355 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 62.7253ms
ShoppingCartAPI | 2024-03-29 03:48:48.110 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=129&countToRemove=1 - null 0
ShoppingCartAPI | 2024-03-29 03:48:48.112 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:48.117 +03:00 [INF] Route matched with {action = "RemoveCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:48.129 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 03:48:48.132 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:48:48.132 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:48:48.138 +03:00 [INF] Received HTTP response headers after 5.5264ms - 200
ShoppingCartAPI | 2024-03-29 03:48:48.138 +03:00 [INF] End processing HTTP request after 6.5413ms - 200
ShoppingCartAPI | 2024-03-29 03:48:48.139 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:48:48.139 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:48:48.147 +03:00 [INF] Received HTTP response headers after 7.9372ms - 200
ShoppingCartAPI | 2024-03-29 03:48:48.147 +03:00 [INF] End processing HTTP request after 8.2684ms - 200
ShoppingCartAPI | 2024-03-29 03:48:48.155 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 03:48:48.156 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:48:48.159 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI) in 41.6729ms
ShoppingCartAPI | 2024-03-29 03:48:48.159 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:48.160 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=129&countToRemove=1 - 200 null application/json; charset=utf-8 49.4732ms
ShoppingCartAPI | 2024-03-29 03:48:48.190 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:48:48.190 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:48.190 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:48.192 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:48:48.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:48:48.195 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:48.195 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:48.201 +03:00 [INF] Received HTTP response headers after 5.9043ms - 200
ShoppingCartAPI | 2024-03-29 03:48:48.201 +03:00 [INF] End processing HTTP request after 6.1796ms - 200
ShoppingCartAPI | 2024-03-29 03:48:48.202 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:48:48.202 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 12.0385ms
ShoppingCartAPI | 2024-03-29 03:48:48.202 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:48.203 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 12.9986ms
ShoppingCartAPI | 2024-03-29 03:48:49.811 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:48:49.813 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:49.813 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:49.820 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:48:49.824 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:48:49.824 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:49.824 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:49.834 +03:00 [INF] Received HTTP response headers after 9.6015ms - 200
ShoppingCartAPI | 2024-03-29 03:48:49.834 +03:00 [INF] End processing HTTP request after 9.7661ms - 200
ShoppingCartAPI | 2024-03-29 03:48:49.835 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:48:49.836 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 22.8714ms
ShoppingCartAPI | 2024-03-29 03:48:49.836 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:49.836 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 25.1157ms
ShoppingCartAPI | 2024-03-29 03:48:53.960 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:48:53.960 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:53.960 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:53.965 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:48:53.969 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:48:53.970 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:53.970 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:48:53.978 +03:00 [INF] Received HTTP response headers after 8.1625ms - 200
ShoppingCartAPI | 2024-03-29 03:48:53.978 +03:00 [INF] End processing HTTP request after 8.4304ms - 200
ShoppingCartAPI | 2024-03-29 03:48:53.980 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:48:53.981 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 20.2841ms
ShoppingCartAPI | 2024-03-29 03:48:53.981 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:53.981 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 21.4004ms
ShoppingCartAPI | 2024-03-29 03:48:54.654 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 03:48:54.655 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:54.657 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:48:54.666 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:48:54.676 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:48:54.706 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p1;
ShoppingCartAPI | 2024-03-29 03:48:54.717 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:48:54.718 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 60.8795ms
ShoppingCartAPI | 2024-03-29 03:48:54.718 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:48:54.718 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 63.9986ms
ShoppingCartAPI | 2024-03-29 03:54:45.389 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-29 03:54:45.482 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-29 03:54:45.518 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-29 03:54:45.536 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-29 03:54:45.744 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-29 03:54:45.745 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-29 03:54:45.745 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-29 03:54:45.771 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 03:54:46.081 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:46.109 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:54:46.316 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:54:46.317 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:54:46.912 +03:00 [INF] Received HTTP response headers after 591.5657ms - 200
ShoppingCartAPI | 2024-03-29 03:54:46.914 +03:00 [INF] End processing HTTP request after 599.6522ms - 200
ShoppingCartAPI | 2024-03-29 03:54:46.916 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:54:46.916 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:54:46.977 +03:00 [INF] Received HTTP response headers after 60.8495ms - 200
ShoppingCartAPI | 2024-03-29 03:54:46.977 +03:00 [INF] End processing HTTP request after 61.2599ms - 200
ShoppingCartAPI | 2024-03-29 03:54:46.979 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:54:46.980 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:54:47.026 +03:00 [INF] Received HTTP response headers after 46.3653ms - 200
ShoppingCartAPI | 2024-03-29 03:54:47.026 +03:00 [INF] End processing HTTP request after 46.7804ms - 200
ShoppingCartAPI | 2024-03-29 03:54:47.689 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 03:54:48.004 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 03:54:48.089 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 03:54:48.109 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:54:48.109 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:54:48.431 +03:00 [INF] Received HTTP response headers after 321.0073ms - 200
ShoppingCartAPI | 2024-03-29 03:54:48.431 +03:00 [INF] End processing HTTP request after 321.756ms - 200
ShoppingCartAPI | 2024-03-29 03:54:48.448 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:54:48.520 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 2403.9839ms
ShoppingCartAPI | 2024-03-29 03:54:48.521 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:48.540 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 2779.0053ms
ShoppingCartAPI | 2024-03-29 03:54:52.025 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 03:54:52.032 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:52.032 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:54:52.041 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:54:52.041 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:54:52.066 +03:00 [INF] Received HTTP response headers after 24.8566ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.066 +03:00 [INF] End processing HTTP request after 25.369ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.067 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:54:52.067 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:54:52.084 +03:00 [INF] Received HTTP response headers after 17.047ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.084 +03:00 [INF] End processing HTTP request after 17.3611ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.084 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 03:54:52.084 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 03:54:52.091 +03:00 [INF] Received HTTP response headers after 6.751ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.091 +03:00 [INF] End processing HTTP request after 7.0575ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.241 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 03:54:52.266 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 03:54:52.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 03:54:52.271 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:54:52.271 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:54:52.284 +03:00 [INF] Received HTTP response headers after 12.8497ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.285 +03:00 [INF] End processing HTTP request after 13.292ms - 200
ShoppingCartAPI | 2024-03-29 03:54:52.286 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:54:52.287 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 254.6303ms
ShoppingCartAPI | 2024-03-29 03:54:52.287 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:52.288 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 263.1899ms
ShoppingCartAPI | 2024-03-29 03:54:56.441 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:54:56.446 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:56.449 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:54:56.463 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:54:56.492 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:54:56.497 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:54:56.497 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:54:56.512 +03:00 [INF] Received HTTP response headers after 14.9225ms - 200
ShoppingCartAPI | 2024-03-29 03:54:56.512 +03:00 [INF] End processing HTTP request after 15.218ms - 200
ShoppingCartAPI | 2024-03-29 03:54:56.517 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:54:56.523 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 73.6208ms
ShoppingCartAPI | 2024-03-29 03:54:56.523 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:56.524 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 82.7655ms
ShoppingCartAPI | 2024-03-29 03:54:58.466 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:54:58.468 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:58.468 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:54:58.474 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:54:58.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:54:58.476 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:54:58.476 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:54:58.480 +03:00 [INF] Received HTTP response headers after 3.9942ms - 200
ShoppingCartAPI | 2024-03-29 03:54:58.481 +03:00 [INF] End processing HTTP request after 4.2385ms - 200
ShoppingCartAPI | 2024-03-29 03:54:58.482 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:54:58.482 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 14.2098ms
ShoppingCartAPI | 2024-03-29 03:54:58.482 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:54:58.483 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 16.387ms
ShoppingCartAPI | 2024-03-29 03:55:01.029 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:55:01.029 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:01.029 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:55:01.032 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:55:01.033 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:55:01.034 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:55:01.034 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:55:01.041 +03:00 [INF] Received HTTP response headers after 7.3486ms - 200
ShoppingCartAPI | 2024-03-29 03:55:01.041 +03:00 [INF] End processing HTTP request after 7.5459ms - 200
ShoppingCartAPI | 2024-03-29 03:55:01.042 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:55:01.042 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 12.8212ms
ShoppingCartAPI | 2024-03-29 03:55:01.042 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:01.043 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 14.241ms
ShoppingCartAPI | 2024-03-29 03:55:03.669 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:55:03.670 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:03.671 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:55:03.673 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:55:03.673 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:55:03.674 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:55:03.674 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:55:03.680 +03:00 [INF] Received HTTP response headers after 6.0818ms - 200
ShoppingCartAPI | 2024-03-29 03:55:03.680 +03:00 [INF] End processing HTTP request after 6.2397ms - 200
ShoppingCartAPI | 2024-03-29 03:55:03.680 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:55:03.681 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 10.3768ms
ShoppingCartAPI | 2024-03-29 03:55:03.681 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:03.682 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 13.2293ms
ShoppingCartAPI | 2024-03-29 03:55:06.082 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:55:06.084 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:06.084 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:55:06.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:55:06.090 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:55:06.090 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:55:06.090 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:55:06.097 +03:00 [INF] Received HTTP response headers after 7.1507ms - 200
ShoppingCartAPI | 2024-03-29 03:55:06.097 +03:00 [INF] End processing HTTP request after 7.3298ms - 200
ShoppingCartAPI | 2024-03-29 03:55:06.098 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:55:06.099 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 13.9913ms
ShoppingCartAPI | 2024-03-29 03:55:06.099 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:06.099 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 17.2288ms
ShoppingCartAPI | 2024-03-29 03:55:12.401 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 03:55:12.405 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 03:55:12.405 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:12.405 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:12.409 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:55:12.409 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:55:12.423 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:55:12.452 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:55:12.468 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:55:12.481 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:55:12.535 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p1;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p2;
ShoppingCartAPI | 2024-03-29 03:55:12.548 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p1;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p2;
ShoppingCartAPI | 2024-03-29 03:55:12.565 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:55:12.657 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 247.4389ms
ShoppingCartAPI | 2024-03-29 03:55:12.658 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:12.662 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 252.6182ms
ShoppingCartAPI | 2024-03-29 03:55:12.662 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:55:12.663 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 261.4996ms
ShoppingCartAPI | 2024-03-29 03:55:12.664 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingCartAPI.Controllers.CartAPIController.ClearCart(String userId) in C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI\Controllers\CartAPIController.cs:line 207
   at lambda_method161(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ShoppingCartAPI | 2024-03-29 03:55:12.763 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 500 null application/json; charset=utf-8 358.1936ms
ShoppingCartAPI | 2024-03-29 03:56:03.473 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 03:56:03.473 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:03.474 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:56:03.474 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:56:03.475 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:56:03.495 +03:00 [INF] Received HTTP response headers after 20.7603ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.496 +03:00 [INF] End processing HTTP request after 21.1288ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.496 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:56:03.496 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:56:03.509 +03:00 [INF] Received HTTP response headers after 12.8487ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.509 +03:00 [INF] End processing HTTP request after 13.0226ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.509 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 03:56:03.509 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 03:56:03.514 +03:00 [INF] Received HTTP response headers after 4.6451ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.514 +03:00 [INF] End processing HTTP request after 4.8368ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.522 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 03:56:03.525 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 03:56:03.529 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 03:56:03.530 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:56:03.530 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:56:03.549 +03:00 [INF] Received HTTP response headers after 18.8485ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.549 +03:00 [INF] End processing HTTP request after 19.0566ms - 200
ShoppingCartAPI | 2024-03-29 03:56:03.550 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:56:03.552 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 78.576ms
ShoppingCartAPI | 2024-03-29 03:56:03.552 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:03.553 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 79.8714ms
ShoppingCartAPI | 2024-03-29 03:56:08.365 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 03:56:08.365 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:08.365 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:56:08.367 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:56:08.367 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:56:08.387 +03:00 [INF] Received HTTP response headers after 19.2304ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.387 +03:00 [INF] End processing HTTP request after 19.8382ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.388 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:56:08.388 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:56:08.401 +03:00 [INF] Received HTTP response headers after 13.1273ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.401 +03:00 [INF] End processing HTTP request after 13.5656ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.402 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/27
ShoppingCartAPI | 2024-03-29 03:56:08.402 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/27
ShoppingCartAPI | 2024-03-29 03:56:08.408 +03:00 [INF] Received HTTP response headers after 6.1721ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.408 +03:00 [INF] End processing HTTP request after 6.4462ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 03:56:08.419 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 03:56:08.423 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 03:56:08.424 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:56:08.424 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:56:08.436 +03:00 [INF] Received HTTP response headers after 12.0427ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.436 +03:00 [INF] End processing HTTP request after 12.2537ms - 200
ShoppingCartAPI | 2024-03-29 03:56:08.436 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:56:08.438 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 72.563ms
ShoppingCartAPI | 2024-03-29 03:56:08.438 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:08.439 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 74.2846ms
ShoppingCartAPI | 2024-03-29 03:56:17.442 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 03:56:17.443 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:17.443 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:56:17.444 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:56:17.444 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 03:56:17.453 +03:00 [INF] Received HTTP response headers after 8.9252ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.455 +03:00 [INF] End processing HTTP request after 11.0144ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.455 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:56:17.455 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 03:56:17.462 +03:00 [INF] Received HTTP response headers after 6.8028ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.462 +03:00 [INF] End processing HTTP request after 6.9817ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.463 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:56:17.463 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 03:56:17.473 +03:00 [INF] Received HTTP response headers after 10.5857ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.473 +03:00 [INF] End processing HTTP request after 10.7195ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.475 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 03:56:17.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 03:56:17.479 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 03:56:17.480 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:56:17.480 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 03:56:17.490 +03:00 [INF] Received HTTP response headers after 10.3522ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.491 +03:00 [INF] End processing HTTP request after 10.5223ms - 200
ShoppingCartAPI | 2024-03-29 03:56:17.491 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:56:17.492 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 48.6644ms
ShoppingCartAPI | 2024-03-29 03:56:17.492 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:17.492 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 50.0605ms
ShoppingCartAPI | 2024-03-29 03:56:24.312 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:56:24.312 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:24.313 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:56:24.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:56:24.319 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:56:24.320 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:56:24.320 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:56:24.327 +03:00 [INF] Received HTTP response headers after 6.8768ms - 200
ShoppingCartAPI | 2024-03-29 03:56:24.327 +03:00 [INF] End processing HTTP request after 7.2589ms - 200
ShoppingCartAPI | 2024-03-29 03:56:24.328 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:56:24.329 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 16.0672ms
ShoppingCartAPI | 2024-03-29 03:56:24.329 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:24.329 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 17.3301ms
ShoppingCartAPI | 2024-03-29 03:56:27.218 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:56:27.219 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:27.219 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:56:27.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:56:27.224 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:56:27.225 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:56:27.225 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:56:27.235 +03:00 [INF] Received HTTP response headers after 9.6742ms - 200
ShoppingCartAPI | 2024-03-29 03:56:27.235 +03:00 [INF] End processing HTTP request after 10.1212ms - 200
ShoppingCartAPI | 2024-03-29 03:56:27.236 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:56:27.238 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 19.2078ms
ShoppingCartAPI | 2024-03-29 03:56:27.239 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:27.240 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 22.7402ms
ShoppingCartAPI | 2024-03-29 03:56:31.619 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 03:56:31.620 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:31.620 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:56:31.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:56:31.625 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:56:31.626 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:56:31.626 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 03:56:31.633 +03:00 [INF] Received HTTP response headers after 7.2903ms - 200
ShoppingCartAPI | 2024-03-29 03:56:31.633 +03:00 [INF] End processing HTTP request after 7.5299ms - 200
ShoppingCartAPI | 2024-03-29 03:56:31.634 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:56:31.635 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 15.0232ms
ShoppingCartAPI | 2024-03-29 03:56:31.635 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:31.636 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 16.6939ms
ShoppingCartAPI | 2024-03-29 03:56:31.742 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 03:56:31.743 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:31.743 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 03:56:31.745 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 03:56:31.748 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 03:56:31.756 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p1;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p2;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p3;
ShoppingCartAPI | 2024-03-29 03:56:31.756 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 03:56:31.757 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 14.2287ms
ShoppingCartAPI | 2024-03-29 03:56:31.757 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 03:56:31.757 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 15.0239ms
ShoppingCartAPI | 2024-03-29 04:00:54.934 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-29 04:00:55.010 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-29 04:00:55.071 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-29 04:00:55.086 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-29 04:00:55.318 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-29 04:00:55.318 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-29 04:00:55.318 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-29 04:00:55.343 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 04:00:55.669 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:00:55.702 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:00:55.937 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:00:55.938 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:00:56.575 +03:00 [INF] Received HTTP response headers after 631.6926ms - 200
ShoppingCartAPI | 2024-03-29 04:00:56.578 +03:00 [INF] End processing HTTP request after 642.4817ms - 200
ShoppingCartAPI | 2024-03-29 04:00:56.584 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:00:56.584 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:00:56.644 +03:00 [INF] Received HTTP response headers after 59.7637ms - 200
ShoppingCartAPI | 2024-03-29 04:00:56.644 +03:00 [INF] End processing HTTP request after 60.3049ms - 200
ShoppingCartAPI | 2024-03-29 04:00:56.648 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 04:00:56.648 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 04:00:56.686 +03:00 [INF] Received HTTP response headers after 37.6908ms - 200
ShoppingCartAPI | 2024-03-29 04:00:56.686 +03:00 [INF] End processing HTTP request after 38.3233ms - 200
ShoppingCartAPI | 2024-03-29 04:00:57.320 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:00:57.578 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 04:00:57.685 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:00:57.704 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:00:57.704 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:00:57.986 +03:00 [INF] Received HTTP response headers after 282.0281ms - 200
ShoppingCartAPI | 2024-03-29 04:00:57.987 +03:00 [INF] End processing HTTP request after 282.8202ms - 200
ShoppingCartAPI | 2024-03-29 04:00:57.992 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:00:58.045 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 2336.375ms
ShoppingCartAPI | 2024-03-29 04:00:58.046 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:00:58.057 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 2726.2402ms
ShoppingCartAPI | 2024-03-29 04:01:03.125 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 04:01:03.136 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:03.136 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:01:03.142 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:01:03.143 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:01:03.167 +03:00 [INF] Received HTTP response headers after 23.9072ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.167 +03:00 [INF] End processing HTTP request after 24.4843ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.167 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:01:03.167 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:01:03.195 +03:00 [INF] Received HTTP response headers after 28.0703ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.196 +03:00 [INF] End processing HTTP request after 28.4064ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.203 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:01:03.204 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:01:03.215 +03:00 [INF] Received HTTP response headers after 11.4511ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.216 +03:00 [INF] End processing HTTP request after 12.297ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.313 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:01:03.333 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 04:01:03.339 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:01:03.340 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:01:03.340 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:01:03.364 +03:00 [INF] Received HTTP response headers after 23.8121ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.364 +03:00 [INF] End processing HTTP request after 24.149ms - 200
ShoppingCartAPI | 2024-03-29 04:01:03.364 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:01:03.365 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 228.5482ms
ShoppingCartAPI | 2024-03-29 04:01:03.365 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:03.366 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 240.6287ms
ShoppingCartAPI | 2024-03-29 04:01:05.137 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:01:05.144 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:05.153 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:01:05.181 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:01:05.208 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:01:05.213 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:01:05.214 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:01:05.236 +03:00 [INF] Received HTTP response headers after 22.5394ms - 200
ShoppingCartAPI | 2024-03-29 04:01:05.237 +03:00 [INF] End processing HTTP request after 23.8619ms - 200
ShoppingCartAPI | 2024-03-29 04:01:05.250 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:01:05.258 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 104.3837ms
ShoppingCartAPI | 2024-03-29 04:01:05.258 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:05.259 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 121.9669ms
ShoppingCartAPI | 2024-03-29 04:01:47.372 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=135&countToAdd=1 - null 0
ShoppingCartAPI | 2024-03-29 04:01:47.374 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:47.383 +03:00 [INF] Route matched with {action = "AddCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] AddCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:01:47.414 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:01:47.421 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 04:01:47.421 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 04:01:47.446 +03:00 [INF] Received HTTP response headers after 25.2875ms - 200
ShoppingCartAPI | 2024-03-29 04:01:47.447 +03:00 [INF] End processing HTTP request after 26.107ms - 200
ShoppingCartAPI | 2024-03-29 04:01:47.448 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:01:47.448 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:01:47.472 +03:00 [INF] Received HTTP response headers after 23.9068ms - 200
ShoppingCartAPI | 2024-03-29 04:01:47.472 +03:00 [INF] End processing HTTP request after 24.3318ms - 200
ShoppingCartAPI | 2024-03-29 04:01:47.490 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 04:01:47.495 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:01:47.504 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI) in 121.2353ms
ShoppingCartAPI | 2024-03-29 04:01:47.504 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:47.505 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=135&countToAdd=1 - 200 null application/json; charset=utf-8 134.0417ms
ShoppingCartAPI | 2024-03-29 04:01:47.551 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:01:47.553 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:47.554 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:01:47.559 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:01:47.563 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:01:47.564 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:01:47.564 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:01:47.578 +03:00 [INF] Received HTTP response headers after 13.1659ms - 200
ShoppingCartAPI | 2024-03-29 04:01:47.578 +03:00 [INF] End processing HTTP request after 13.5536ms - 200
ShoppingCartAPI | 2024-03-29 04:01:47.580 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:01:47.581 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 27.7403ms
ShoppingCartAPI | 2024-03-29 04:01:47.582 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:47.582 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 30.8667ms
ShoppingCartAPI | 2024-03-29 04:01:48.319 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=136&countToAdd=1 - null 0
ShoppingCartAPI | 2024-03-29 04:01:48.320 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:48.320 +03:00 [INF] Route matched with {action = "AddCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] AddCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:01:48.324 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:01:48.325 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:01:48.325 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:01:48.333 +03:00 [INF] Received HTTP response headers after 7.6834ms - 200
ShoppingCartAPI | 2024-03-29 04:01:48.333 +03:00 [INF] End processing HTTP request after 8.0333ms - 200
ShoppingCartAPI | 2024-03-29 04:01:48.333 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:01:48.333 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:01:48.340 +03:00 [INF] Received HTTP response headers after 6.4827ms - 200
ShoppingCartAPI | 2024-03-29 04:01:48.340 +03:00 [INF] End processing HTTP request after 6.7385ms - 200
ShoppingCartAPI | 2024-03-29 04:01:48.344 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 04:01:48.345 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:01:48.347 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI) in 26.7485ms
ShoppingCartAPI | 2024-03-29 04:01:48.347 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:48.347 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=136&countToAdd=1 - 200 null application/json; charset=utf-8 28.3851ms
ShoppingCartAPI | 2024-03-29 04:01:48.368 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:01:48.368 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:48.368 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:01:48.370 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:01:48.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:01:48.371 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:01:48.371 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:01:48.375 +03:00 [INF] Received HTTP response headers after 3.6176ms - 200
ShoppingCartAPI | 2024-03-29 04:01:48.375 +03:00 [INF] End processing HTTP request after 3.7814ms - 200
ShoppingCartAPI | 2024-03-29 04:01:48.376 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:01:48.377 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 8.0979ms
ShoppingCartAPI | 2024-03-29 04:01:48.377 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:01:48.378 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 10.3061ms
ShoppingCartAPI | 2024-03-29 04:02:03.083 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=136&countToRemove=1 - null 0
ShoppingCartAPI | 2024-03-29 04:02:03.084 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:03.096 +03:00 [INF] Route matched with {action = "RemoveCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:02:03.106 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:02:03.109 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:02:03.109 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:02:03.116 +03:00 [INF] Received HTTP response headers after 6.6397ms - 200
ShoppingCartAPI | 2024-03-29 04:02:03.116 +03:00 [INF] End processing HTTP request after 6.9497ms - 200
ShoppingCartAPI | 2024-03-29 04:02:03.117 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:02:03.117 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:02:03.131 +03:00 [INF] Received HTTP response headers after 13.5307ms - 200
ShoppingCartAPI | 2024-03-29 04:02:03.131 +03:00 [INF] End processing HTTP request after 13.8271ms - 200
ShoppingCartAPI | 2024-03-29 04:02:03.133 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 04:02:03.134 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:02:03.135 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI) in 38.3311ms
ShoppingCartAPI | 2024-03-29 04:02:03.135 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:03.136 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=136&countToRemove=1 - 200 null application/json; charset=utf-8 53.0407ms
ShoppingCartAPI | 2024-03-29 04:02:03.162 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:02:03.163 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:03.163 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:02:03.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:02:03.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:02:03.169 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:03.169 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:03.177 +03:00 [INF] Received HTTP response headers after 7.7324ms - 200
ShoppingCartAPI | 2024-03-29 04:02:03.177 +03:00 [INF] End processing HTTP request after 8.0747ms - 200
ShoppingCartAPI | 2024-03-29 04:02:03.180 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:02:03.181 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 17.5556ms
ShoppingCartAPI | 2024-03-29 04:02:03.181 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:03.181 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 20.1031ms
ShoppingCartAPI | 2024-03-29 04:02:04.621 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=136&countToRemove=1 - null 0
ShoppingCartAPI | 2024-03-29 04:02:04.621 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:04.622 +03:00 [INF] Route matched with {action = "RemoveCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:02:04.627 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:02:04.629 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:02:04.630 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:02:04.635 +03:00 [INF] Received HTTP response headers after 5.7739ms - 200
ShoppingCartAPI | 2024-03-29 04:02:04.635 +03:00 [INF] End processing HTTP request after 6.0402ms - 200
ShoppingCartAPI | 2024-03-29 04:02:04.640 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:02:04.640 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:02:04.653 +03:00 [INF] Received HTTP response headers after 13.2414ms - 200
ShoppingCartAPI | 2024-03-29 04:02:04.654 +03:00 [INF] End processing HTTP request after 13.6285ms - 200
ShoppingCartAPI | 2024-03-29 04:02:04.667 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
ShoppingCartAPI | 2024-03-29 04:02:04.671 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:02:04.672 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI) in 50.2017ms
ShoppingCartAPI | 2024-03-29 04:02:04.672 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:04.672 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=136&countToRemove=1 - 200 null application/json; charset=utf-8 51.5822ms
ShoppingCartAPI | 2024-03-29 04:02:04.701 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:02:04.702 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:04.702 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:02:04.704 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:02:04.705 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:02:04.705 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:04.705 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:04.709 +03:00 [INF] Received HTTP response headers after 3.5514ms - 200
ShoppingCartAPI | 2024-03-29 04:02:04.709 +03:00 [INF] End processing HTTP request after 3.7508ms - 200
ShoppingCartAPI | 2024-03-29 04:02:04.710 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:02:04.712 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 9.3705ms
ShoppingCartAPI | 2024-03-29 04:02:04.712 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:04.712 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 10.792ms
ShoppingCartAPI | 2024-03-29 04:02:39.039 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:02:39.039 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:39.039 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:02:39.045 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:02:39.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:02:39.049 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:39.049 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:39.055 +03:00 [INF] Received HTTP response headers after 6.3779ms - 200
ShoppingCartAPI | 2024-03-29 04:02:39.055 +03:00 [INF] End processing HTTP request after 6.7619ms - 200
ShoppingCartAPI | 2024-03-29 04:02:39.066 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:02:39.066 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 26.6302ms
ShoppingCartAPI | 2024-03-29 04:02:39.066 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:39.067 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 28.5894ms
ShoppingCartAPI | 2024-03-29 04:02:42.035 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:02:42.036 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:42.036 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:02:42.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:02:42.042 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:02:42.042 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:42.042 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:02:42.048 +03:00 [INF] Received HTTP response headers after 6.0347ms - 200
ShoppingCartAPI | 2024-03-29 04:02:42.048 +03:00 [INF] End processing HTTP request after 6.251ms - 200
ShoppingCartAPI | 2024-03-29 04:02:42.049 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:02:42.050 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 14.0681ms
ShoppingCartAPI | 2024-03-29 04:02:42.050 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:42.050 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 15.4663ms
ShoppingCartAPI | 2024-03-29 04:02:51.217 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 04:02:51.218 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:51.226 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:02:51.240 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:02:51.254 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:02:51.303 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p1;
ShoppingCartAPI | 2024-03-29 04:02:51.320 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:02:51.320 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 94.1139ms
ShoppingCartAPI | 2024-03-29 04:02:51.321 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:02:51.321 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 103.7697ms
ShoppingCartAPI | 2024-03-29 04:10:40.403 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-29 04:10:40.509 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-29 04:10:40.575 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-29 04:10:40.616 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-29 04:10:40.811 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-29 04:10:40.812 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-29 04:10:40.812 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-29 04:10:40.839 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 04:10:41.209 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:10:41.255 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:10:41.496 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:10:41.499 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:10:42.194 +03:00 [INF] Received HTTP response headers after 691.3334ms - 200
ShoppingCartAPI | 2024-03-29 04:10:42.199 +03:00 [INF] End processing HTTP request after 707.0064ms - 200
ShoppingCartAPI | 2024-03-29 04:10:42.203 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:10:42.203 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:10:42.257 +03:00 [INF] Received HTTP response headers after 53.5872ms - 200
ShoppingCartAPI | 2024-03-29 04:10:42.257 +03:00 [INF] End processing HTTP request after 54.2754ms - 200
ShoppingCartAPI | 2024-03-29 04:10:42.260 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 04:10:42.260 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 04:10:42.285 +03:00 [INF] Received HTTP response headers after 24.9028ms - 200
ShoppingCartAPI | 2024-03-29 04:10:42.286 +03:00 [INF] End processing HTTP request after 25.4207ms - 200
ShoppingCartAPI | 2024-03-29 04:10:42.896 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:10:43.203 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 04:10:43.273 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:10:43.284 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:10:43.284 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:10:43.519 +03:00 [INF] Received HTTP response headers after 234.6355ms - 200
ShoppingCartAPI | 2024-03-29 04:10:43.519 +03:00 [INF] End processing HTTP request after 235.0252ms - 200
ShoppingCartAPI | 2024-03-29 04:10:43.532 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:10:43.586 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 2326.3306ms
ShoppingCartAPI | 2024-03-29 04:10:43.587 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:10:43.599 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 2776.6812ms
ShoppingCartAPI | 2024-03-29 04:10:49.754 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 04:10:49.759 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:10:49.759 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:10:49.767 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:10:49.767 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:10:49.783 +03:00 [INF] Received HTTP response headers after 16.0106ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.784 +03:00 [INF] End processing HTTP request after 17.51ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.784 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:10:49.784 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:10:49.794 +03:00 [INF] Received HTTP response headers after 9.1577ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.794 +03:00 [INF] End processing HTTP request after 9.7228ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.794 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/18
ShoppingCartAPI | 2024-03-29 04:10:49.795 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/18
ShoppingCartAPI | 2024-03-29 04:10:49.803 +03:00 [INF] Received HTTP response headers after 8.4857ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.804 +03:00 [INF] End processing HTTP request after 9.1078ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.890 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:10:49.918 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 04:10:49.924 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:10:49.925 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:10:49.925 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:10:49.939 +03:00 [INF] Received HTTP response headers after 14.2494ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.940 +03:00 [INF] End processing HTTP request after 14.8573ms - 200
ShoppingCartAPI | 2024-03-29 04:10:49.940 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:10:49.941 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 182.2847ms
ShoppingCartAPI | 2024-03-29 04:10:49.941 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:10:49.942 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 188.2959ms
ShoppingCartAPI | 2024-03-29 04:10:51.702 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:10:51.709 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:10:51.715 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:10:51.729 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:10:51.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:10:51.764 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:10:51.764 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:10:51.781 +03:00 [INF] Received HTTP response headers after 17.1537ms - 200
ShoppingCartAPI | 2024-03-29 04:10:51.781 +03:00 [INF] End processing HTTP request after 17.4723ms - 200
ShoppingCartAPI | 2024-03-29 04:10:51.789 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:10:51.793 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 77.5819ms
ShoppingCartAPI | 2024-03-29 04:10:51.793 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:10:51.794 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 92.1084ms
ShoppingCartAPI | 2024-03-29 04:11:11.006 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 285
ShoppingCartAPI | 2024-03-29 04:11:11.007 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:11.007 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:11.008 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6
ShoppingCartAPI | 2024-03-29 04:11:11.008 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6
ShoppingCartAPI | 2024-03-29 04:11:11.023 +03:00 [INF] Received HTTP response headers after 14.7332ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.023 +03:00 [INF] End processing HTTP request after 15.1921ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.024 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6&email=test2@test2.com
ShoppingCartAPI | 2024-03-29 04:11:11.024 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6&email=test2@test2.com
ShoppingCartAPI | 2024-03-29 04:11:11.041 +03:00 [INF] Received HTTP response headers after 17.1767ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.041 +03:00 [INF] End processing HTTP request after 17.5879ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.051 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/22
ShoppingCartAPI | 2024-03-29 04:11:11.051 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/22
ShoppingCartAPI | 2024-03-29 04:11:11.055 +03:00 [INF] Received HTTP response headers after 4.046ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.055 +03:00 [INF] End processing HTTP request after 4.4305ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.060 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:11:11.063 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 04:11:11.067 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:11:11.068 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:11.068 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:11.082 +03:00 [INF] Received HTTP response headers after 13.5062ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.082 +03:00 [INF] End processing HTTP request after 14.0733ms - 200
ShoppingCartAPI | 2024-03-29 04:11:11.083 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:11.084 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 76.6061ms
ShoppingCartAPI | 2024-03-29 04:11:11.084 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:11.084 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 79.1917ms
ShoppingCartAPI | 2024-03-29 04:11:21.112 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 285
ShoppingCartAPI | 2024-03-29 04:11:21.113 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:21.113 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:21.116 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6
ShoppingCartAPI | 2024-03-29 04:11:21.116 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6
ShoppingCartAPI | 2024-03-29 04:11:21.124 +03:00 [INF] Received HTTP response headers after 7.856ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.124 +03:00 [INF] End processing HTTP request after 8.3482ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.125 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6&email=test2@test2.com
ShoppingCartAPI | 2024-03-29 04:11:21.125 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=91353b0e-72fb-4065-8be4-d60e995fd3d6&email=test2@test2.com
ShoppingCartAPI | 2024-03-29 04:11:21.136 +03:00 [INF] Received HTTP response headers after 10.7485ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.136 +03:00 [INF] End processing HTTP request after 10.9389ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.136 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/26
ShoppingCartAPI | 2024-03-29 04:11:21.136 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/26
ShoppingCartAPI | 2024-03-29 04:11:21.139 +03:00 [INF] Received HTTP response headers after 3.1686ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.139 +03:00 [INF] End processing HTTP request after 3.381ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:11:21.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 04:11:21.149 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:11:21.150 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:21.150 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:21.156 +03:00 [INF] Received HTTP response headers after 5.9545ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.156 +03:00 [INF] End processing HTTP request after 6.2315ms - 200
ShoppingCartAPI | 2024-03-29 04:11:21.156 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:21.157 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 43.7429ms
ShoppingCartAPI | 2024-03-29 04:11:21.157 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:21.157 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 46.5512ms
ShoppingCartAPI | 2024-03-29 04:11:22.531 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - null null
ShoppingCartAPI | 2024-03-29 04:11:22.535 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:22.535 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:22.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:11:22.540 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:11:22.541 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:22.541 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:22.548 +03:00 [INF] Received HTTP response headers after 6.7801ms - 200
ShoppingCartAPI | 2024-03-29 04:11:22.548 +03:00 [INF] End processing HTTP request after 7.0689ms - 200
ShoppingCartAPI | 2024-03-29 04:11:22.550 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:22.551 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 15.9276ms
ShoppingCartAPI | 2024-03-29 04:11:22.551 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:22.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - 200 null application/json; charset=utf-8 20.7411ms
ShoppingCartAPI | 2024-03-29 04:11:26.069 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=139&countToAdd=1 - null 0
ShoppingCartAPI | 2024-03-29 04:11:26.070 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:26.078 +03:00 [INF] Route matched with {action = "AddCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] AddCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:26.121 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:11:26.131 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/22
ShoppingCartAPI | 2024-03-29 04:11:26.131 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/22
ShoppingCartAPI | 2024-03-29 04:11:26.136 +03:00 [INF] Received HTTP response headers after 4.6248ms - 200
ShoppingCartAPI | 2024-03-29 04:11:26.136 +03:00 [INF] End processing HTTP request after 5.3155ms - 200
ShoppingCartAPI | 2024-03-29 04:11:26.137 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:26.137 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:26.149 +03:00 [INF] Received HTTP response headers after 11.7765ms - 200
ShoppingCartAPI | 2024-03-29 04:11:26.149 +03:00 [INF] End processing HTTP request after 11.9913ms - 200
ShoppingCartAPI | 2024-03-29 04:11:26.159 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 04:11:26.161 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:26.167 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI) in 88.2077ms
ShoppingCartAPI | 2024-03-29 04:11:26.167 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:26.167 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=139&countToAdd=1 - 200 null application/json; charset=utf-8 98.2326ms
ShoppingCartAPI | 2024-03-29 04:11:26.206 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - null null
ShoppingCartAPI | 2024-03-29 04:11:26.207 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:26.208 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:26.210 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:11:26.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:11:26.212 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:26.212 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:26.215 +03:00 [INF] Received HTTP response headers after 3.3612ms - 200
ShoppingCartAPI | 2024-03-29 04:11:26.215 +03:00 [INF] End processing HTTP request after 3.4525ms - 200
ShoppingCartAPI | 2024-03-29 04:11:26.215 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:26.216 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 8.2807ms
ShoppingCartAPI | 2024-03-29 04:11:26.216 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:26.216 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - 200 null application/json; charset=utf-8 10.4553ms
ShoppingCartAPI | 2024-03-29 04:11:27.477 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=140&countToRemove=1 - null 0
ShoppingCartAPI | 2024-03-29 04:11:27.478 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:27.485 +03:00 [INF] Route matched with {action = "RemoveCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:27.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:11:27.494 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/26
ShoppingCartAPI | 2024-03-29 04:11:27.494 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/26
ShoppingCartAPI | 2024-03-29 04:11:27.501 +03:00 [INF] Received HTTP response headers after 6.6921ms - 200
ShoppingCartAPI | 2024-03-29 04:11:27.501 +03:00 [INF] End processing HTTP request after 6.9288ms - 200
ShoppingCartAPI | 2024-03-29 04:11:27.501 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:27.501 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:11:27.514 +03:00 [INF] Received HTTP response headers after 12.395ms - 200
ShoppingCartAPI | 2024-03-29 04:11:27.514 +03:00 [INF] End processing HTTP request after 13.0376ms - 200
ShoppingCartAPI | 2024-03-29 04:11:27.518 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 04:11:27.519 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:27.520 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI) in 34.4739ms
ShoppingCartAPI | 2024-03-29 04:11:27.520 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:27.520 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=140&countToRemove=1 - 200 null application/json; charset=utf-8 43.7222ms
ShoppingCartAPI | 2024-03-29 04:11:27.565 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - null null
ShoppingCartAPI | 2024-03-29 04:11:27.567 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:27.567 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:27.569 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:11:27.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:11:27.571 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:27.571 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:27.576 +03:00 [INF] Received HTTP response headers after 5.1605ms - 200
ShoppingCartAPI | 2024-03-29 04:11:27.576 +03:00 [INF] End processing HTTP request after 5.4419ms - 200
ShoppingCartAPI | 2024-03-29 04:11:27.578 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:27.579 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 11.494ms
ShoppingCartAPI | 2024-03-29 04:11:27.579 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:27.580 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - 200 null application/json; charset=utf-8 15.1636ms
ShoppingCartAPI | 2024-03-29 04:11:47.645 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - null null
ShoppingCartAPI | 2024-03-29 04:11:47.646 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:47.646 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:47.650 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:11:47.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:11:47.651 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:47.651 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:47.665 +03:00 [INF] Received HTTP response headers after 14.0122ms - 200
ShoppingCartAPI | 2024-03-29 04:11:47.665 +03:00 [INF] End processing HTTP request after 14.2436ms - 200
ShoppingCartAPI | 2024-03-29 04:11:47.666 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:47.667 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 21.1369ms
ShoppingCartAPI | 2024-03-29 04:11:47.667 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:47.668 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - 200 null application/json; charset=utf-8 23.1605ms
ShoppingCartAPI | 2024-03-29 04:11:50.463 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - null null
ShoppingCartAPI | 2024-03-29 04:11:50.464 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:50.464 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:50.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:11:50.470 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:11:50.470 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:50.470 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:11:50.478 +03:00 [INF] Received HTTP response headers after 7.3374ms - 200
ShoppingCartAPI | 2024-03-29 04:11:50.478 +03:00 [INF] End processing HTTP request after 7.7668ms - 200
ShoppingCartAPI | 2024-03-29 04:11:50.479 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:50.480 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 16.1437ms
ShoppingCartAPI | 2024-03-29 04:11:50.480 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:50.482 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - 200 null application/json; charset=utf-8 18.1632ms
ShoppingCartAPI | 2024-03-29 04:11:58.401 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 04:11:58.402 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:58.408 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:11:58.421 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:11:58.435 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:11:58.469 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p1;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p2;
ShoppingCartAPI | 2024-03-29 04:11:58.483 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:11:58.484 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 75.1942ms
ShoppingCartAPI | 2024-03-29 04:11:58.484 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:11:58.484 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/91353b0e-72fb-4065-8be4-d60e995fd3d6 - 200 null application/json; charset=utf-8 82.9758ms
ShoppingCartAPI | 2024-03-29 04:13:17.366 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 04:13:17.367 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:17.368 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:17.370 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:13:17.370 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:13:17.401 +03:00 [INF] Received HTTP response headers after 31.5994ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.401 +03:00 [INF] End processing HTTP request after 31.7923ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.413 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:13:17.413 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:13:17.422 +03:00 [INF] Received HTTP response headers after 8.6884ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.422 +03:00 [INF] End processing HTTP request after 11.8684ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.422 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/21
ShoppingCartAPI | 2024-03-29 04:13:17.422 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/21
ShoppingCartAPI | 2024-03-29 04:13:17.441 +03:00 [INF] Received HTTP response headers after 19.2941ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.442 +03:00 [INF] End processing HTTP request after 19.6463ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.446 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:13:17.448 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 04:13:17.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:13:17.452 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:17.452 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:17.462 +03:00 [INF] Received HTTP response headers after 10.6633ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.462 +03:00 [INF] End processing HTTP request after 10.7905ms - 200
ShoppingCartAPI | 2024-03-29 04:13:17.463 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:17.464 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 95.8557ms
ShoppingCartAPI | 2024-03-29 04:13:17.464 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:17.464 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 98.1244ms
ShoppingCartAPI | 2024-03-29 04:13:25.979 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 04:13:25.981 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:25.981 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:25.982 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:13:25.982 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:13:25.998 +03:00 [INF] Received HTTP response headers after 16.5636ms - 200
ShoppingCartAPI | 2024-03-29 04:13:25.998 +03:00 [INF] End processing HTTP request after 16.7884ms - 200
ShoppingCartAPI | 2024-03-29 04:13:25.999 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:13:25.999 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:13:26.010 +03:00 [INF] Received HTTP response headers after 10.9401ms - 200
ShoppingCartAPI | 2024-03-29 04:13:26.010 +03:00 [INF] End processing HTTP request after 11.1175ms - 200
ShoppingCartAPI | 2024-03-29 04:13:26.010 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 04:13:26.010 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 04:13:26.017 +03:00 [INF] Received HTTP response headers after 6.9536ms - 200
ShoppingCartAPI | 2024-03-29 04:13:26.017 +03:00 [INF] End processing HTTP request after 7.2087ms - 200
ShoppingCartAPI | 2024-03-29 04:13:26.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:13:26.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 04:13:26.027 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:13:26.029 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:26.029 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:26.042 +03:00 [INF] Received HTTP response headers after 12.479ms - 200
ShoppingCartAPI | 2024-03-29 04:13:26.042 +03:00 [INF] End processing HTTP request after 13.0438ms - 200
ShoppingCartAPI | 2024-03-29 04:13:26.042 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:26.043 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 62.436ms
ShoppingCartAPI | 2024-03-29 04:13:26.043 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:26.044 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 66.5256ms
ShoppingCartAPI | 2024-03-29 04:13:27.759 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:13:27.760 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:27.760 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:27.765 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:13:27.766 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:13:27.767 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:27.767 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:27.772 +03:00 [INF] Received HTTP response headers after 5.7411ms - 200
ShoppingCartAPI | 2024-03-29 04:13:27.772 +03:00 [INF] End processing HTTP request after 5.9666ms - 200
ShoppingCartAPI | 2024-03-29 04:13:27.773 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:27.774 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 13.4652ms
ShoppingCartAPI | 2024-03-29 04:13:27.774 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:27.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 15.1066ms
ShoppingCartAPI | 2024-03-29 04:13:47.965 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-29 04:13:47.966 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:47.976 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:47.998 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__CartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__CartDetailId_0
ShoppingCartAPI | 2024-03-29 04:13:47.999 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 04:13:47.999 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 04:13:48.004 +03:00 [INF] Received HTTP response headers after 4.9969ms - 200
ShoppingCartAPI | 2024-03-29 04:13:48.004 +03:00 [INF] End processing HTTP request after 5.1807ms - 200
ShoppingCartAPI | 2024-03-29 04:13:48.004 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:48.004 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:48.016 +03:00 [INF] Received HTTP response headers after 11.4412ms - 200
ShoppingCartAPI | 2024-03-29 04:13:48.016 +03:00 [INF] End processing HTTP request after 11.6072ms - 200
ShoppingCartAPI | 2024-03-29 04:13:48.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetails_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartDetails_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:13:48.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
ShoppingCartAPI | 2024-03-29 04:13:48.105 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:48.105 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 129.1579ms
ShoppingCartAPI | 2024-03-29 04:13:48.106 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:48.106 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 141.2655ms
ShoppingCartAPI | 2024-03-29 04:13:48.132 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:13:48.133 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:48.133 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:48.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:13:48.137 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:13:48.137 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:48.137 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:48.145 +03:00 [INF] Received HTTP response headers after 7.2844ms - 200
ShoppingCartAPI | 2024-03-29 04:13:48.145 +03:00 [INF] End processing HTTP request after 7.5273ms - 200
ShoppingCartAPI | 2024-03-29 04:13:48.145 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:48.146 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 12.3477ms
ShoppingCartAPI | 2024-03-29 04:13:48.146 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:48.146 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 14.0296ms
ShoppingCartAPI | 2024-03-29 04:13:49.546 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-29 04:13:49.547 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:49.547 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:49.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__CartDetailId_0
ShoppingCartAPI | 2024-03-29 04:13:49.552 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/18
ShoppingCartAPI | 2024-03-29 04:13:49.552 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/18
ShoppingCartAPI | 2024-03-29 04:13:49.556 +03:00 [INF] Received HTTP response headers after 3.6524ms - 200
ShoppingCartAPI | 2024-03-29 04:13:49.556 +03:00 [INF] End processing HTTP request after 3.8734ms - 200
ShoppingCartAPI | 2024-03-29 04:13:49.557 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:49.557 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:49.567 +03:00 [INF] Received HTTP response headers after 9.6973ms - 200
ShoppingCartAPI | 2024-03-29 04:13:49.567 +03:00 [INF] End processing HTTP request after 9.8656ms - 200
ShoppingCartAPI | 2024-03-29 04:13:49.568 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cartDetails_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartDetails_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:13:49.569 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
ShoppingCartAPI | 2024-03-29 04:13:49.570 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:49.570 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 23.0054ms
ShoppingCartAPI | 2024-03-29 04:13:49.570 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:49.571 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 24.4025ms
ShoppingCartAPI | 2024-03-29 04:13:49.589 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:13:49.591 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:49.591 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:49.595 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:13:49.596 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:13:49.597 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:49.597 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:49.600 +03:00 [INF] Received HTTP response headers after 3.7363ms - 200
ShoppingCartAPI | 2024-03-29 04:13:49.600 +03:00 [INF] End processing HTTP request after 3.8984ms - 200
ShoppingCartAPI | 2024-03-29 04:13:49.602 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:49.602 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 11.089ms
ShoppingCartAPI | 2024-03-29 04:13:49.602 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:49.603 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 13.1936ms
ShoppingCartAPI | 2024-03-29 04:13:51.267 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=142&countToRemove=1 - null 0
ShoppingCartAPI | 2024-03-29 04:13:51.267 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:51.268 +03:00 [INF] Route matched with {action = "RemoveCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:51.271 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:13:51.274 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 04:13:51.274 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 04:13:51.281 +03:00 [INF] Received HTTP response headers after 6.7791ms - 200
ShoppingCartAPI | 2024-03-29 04:13:51.281 +03:00 [INF] End processing HTTP request after 7.4277ms - 200
ShoppingCartAPI | 2024-03-29 04:13:51.281 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:51.281 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:13:51.300 +03:00 [INF] Received HTTP response headers after 18.1534ms - 200
ShoppingCartAPI | 2024-03-29 04:13:51.300 +03:00 [INF] End processing HTTP request after 18.2945ms - 200
ShoppingCartAPI | 2024-03-29 04:13:51.302 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 04:13:51.303 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:51.304 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI) in 36.282ms
ShoppingCartAPI | 2024-03-29 04:13:51.304 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:51.304 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=142&countToRemove=1 - 200 null application/json; charset=utf-8 37.6862ms
ShoppingCartAPI | 2024-03-29 04:13:51.332 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:13:51.333 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:51.333 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:13:51.337 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:13:51.338 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:13:51.339 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:51.339 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:13:51.346 +03:00 [INF] Received HTTP response headers after 6.6186ms - 200
ShoppingCartAPI | 2024-03-29 04:13:51.346 +03:00 [INF] End processing HTTP request after 6.8666ms - 200
ShoppingCartAPI | 2024-03-29 04:13:51.346 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:13:51.348 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 14.2602ms
ShoppingCartAPI | 2024-03-29 04:13:51.348 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:13:51.349 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 16.333ms
ShoppingCartAPI | 2024-03-29 04:14:04.529 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:14:04.530 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:14:04.530 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:14:04.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:14:04.532 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:14:04.532 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:14:04.532 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:14:04.535 +03:00 [INF] Received HTTP response headers after 2.991ms - 200
ShoppingCartAPI | 2024-03-29 04:14:04.535 +03:00 [INF] End processing HTTP request after 3.1006ms - 200
ShoppingCartAPI | 2024-03-29 04:14:04.536 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:14:04.536 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 6.3126ms
ShoppingCartAPI | 2024-03-29 04:14:04.536 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:14:04.536 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 7.1822ms
ShoppingCartAPI | 2024-03-29 04:14:07.589 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:14:07.590 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:14:07.591 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:14:07.592 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:14:07.593 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:14:07.593 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:14:07.593 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:14:07.600 +03:00 [INF] Received HTTP response headers after 6.911ms - 200
ShoppingCartAPI | 2024-03-29 04:14:07.601 +03:00 [INF] End processing HTTP request after 7.1501ms - 200
ShoppingCartAPI | 2024-03-29 04:14:07.601 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:14:07.604 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 13.3542ms
ShoppingCartAPI | 2024-03-29 04:14:07.604 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:14:07.605 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 15.4473ms
ShoppingCartAPI | 2024-03-29 04:14:07.746 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 04:14:07.746 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:14:07.746 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:14:07.748 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:14:07.750 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:14:07.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p1;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p2;
ShoppingCartAPI | 2024-03-29 04:14:07.752 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:14:07.752 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 6.2404ms
ShoppingCartAPI | 2024-03-29 04:14:07.752 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:14:07.753 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 6.9434ms
ShoppingCartAPI | 2024-03-29 04:24:12.609 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-29 04:24:12.739 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-29 04:24:12.809 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-29 04:24:12.850 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-29 04:24:13.079 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-29 04:24:13.080 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-29 04:24:13.080 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-29 04:24:13.102 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 04:24:13.510 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:13.540 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:24:13.771 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:24:13.772 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 04:24:14.306 +03:00 [INF] Received HTTP response headers after 531.3127ms - 200
ShoppingCartAPI | 2024-03-29 04:24:14.308 +03:00 [INF] End processing HTTP request after 540.4083ms - 200
ShoppingCartAPI | 2024-03-29 04:24:14.311 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:24:14.311 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 04:24:14.372 +03:00 [INF] Received HTTP response headers after 60.4936ms - 200
ShoppingCartAPI | 2024-03-29 04:24:14.372 +03:00 [INF] End processing HTTP request after 61.1874ms - 200
ShoppingCartAPI | 2024-03-29 04:24:14.376 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:24:14.376 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:24:14.417 +03:00 [INF] Received HTTP response headers after 40.4894ms - 200
ShoppingCartAPI | 2024-03-29 04:24:14.417 +03:00 [INF] End processing HTTP request after 40.9889ms - 200
ShoppingCartAPI | 2024-03-29 04:24:14.990 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 04:24:15.238 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 04:24:15.325 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 04:24:15.343 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:24:15.344 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:24:15.677 +03:00 [INF] Received HTTP response headers after 333.0257ms - 200
ShoppingCartAPI | 2024-03-29 04:24:15.677 +03:00 [INF] End processing HTTP request after 333.7416ms - 200
ShoppingCartAPI | 2024-03-29 04:24:15.691 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:24:15.745 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 2198.4586ms
ShoppingCartAPI | 2024-03-29 04:24:15.745 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:15.754 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 2664.1819ms
ShoppingCartAPI | 2024-03-29 04:24:22.112 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:24:22.119 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:22.123 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:24:22.220 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:24:22.249 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:24:22.252 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:22.252 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:22.286 +03:00 [INF] Received HTTP response headers after 33.3828ms - 200
ShoppingCartAPI | 2024-03-29 04:24:22.286 +03:00 [INF] End processing HTTP request after 33.9285ms - 200
ShoppingCartAPI | 2024-03-29 04:24:22.298 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:24:22.306 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 182.7855ms
ShoppingCartAPI | 2024-03-29 04:24:22.306 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:22.308 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 195.6438ms
ShoppingCartAPI | 2024-03-29 04:24:40.793 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=143&countToAdd=1 - null 0
ShoppingCartAPI | 2024-03-29 04:24:40.800 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:40.811 +03:00 [INF] Route matched with {action = "AddCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] AddCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:24:40.848 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 04:24:40.850 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:24:40.850 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 04:24:40.862 +03:00 [INF] Received HTTP response headers after 12.1711ms - 200
ShoppingCartAPI | 2024-03-29 04:24:40.863 +03:00 [INF] End processing HTTP request after 12.5684ms - 200
ShoppingCartAPI | 2024-03-29 04:24:40.864 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:24:40.864 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 04:24:40.882 +03:00 [INF] Received HTTP response headers after 17.7472ms - 200
ShoppingCartAPI | 2024-03-29 04:24:40.882 +03:00 [INF] End processing HTTP request after 18.1227ms - 200
ShoppingCartAPI | 2024-03-29 04:24:40.897 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 04:24:40.899 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:24:40.904 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI) in 92.5136ms
ShoppingCartAPI | 2024-03-29 04:24:40.904 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:40.905 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=143&countToAdd=1 - 200 null application/json; charset=utf-8 111.7248ms
ShoppingCartAPI | 2024-03-29 04:24:40.962 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:24:40.964 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:40.965 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:24:40.973 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:24:40.978 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:24:40.980 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:40.980 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:40.993 +03:00 [INF] Received HTTP response headers after 13.1209ms - 200
ShoppingCartAPI | 2024-03-29 04:24:40.993 +03:00 [INF] End processing HTTP request after 13.6779ms - 200
ShoppingCartAPI | 2024-03-29 04:24:40.997 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:24:40.998 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 33.5036ms
ShoppingCartAPI | 2024-03-29 04:24:40.998 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:40.999 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 37.0107ms
ShoppingCartAPI | 2024-03-29 04:24:50.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:24:50.841 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:50.842 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:24:50.846 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:24:50.847 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:24:50.848 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:50.848 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:50.854 +03:00 [INF] Received HTTP response headers after 6.5846ms - 200
ShoppingCartAPI | 2024-03-29 04:24:50.854 +03:00 [INF] End processing HTTP request after 6.7854ms - 200
ShoppingCartAPI | 2024-03-29 04:24:50.855 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:24:50.856 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 14.2616ms
ShoppingCartAPI | 2024-03-29 04:24:50.856 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:50.857 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 17.5484ms
ShoppingCartAPI | 2024-03-29 04:24:54.915 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:24:54.916 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:54.916 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:24:54.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:24:54.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:24:54.921 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:54.921 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-29 04:24:54.932 +03:00 [INF] Received HTTP response headers after 10.034ms - 200
ShoppingCartAPI | 2024-03-29 04:24:54.932 +03:00 [INF] End processing HTTP request after 10.4908ms - 200
ShoppingCartAPI | 2024-03-29 04:24:54.933 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:24:54.934 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 17.3919ms
ShoppingCartAPI | 2024-03-29 04:24:54.934 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:24:54.935 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 20.0183ms
ShoppingCartAPI | 2024-03-29 04:25:04.403 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 04:25:04.404 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:25:04.413 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:25:04.427 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:25:04.442 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 04:25:04.487 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p1;
ShoppingCartAPI | 2024-03-29 04:25:04.503 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 04:25:04.504 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 90.4293ms
ShoppingCartAPI | 2024-03-29 04:25:04.504 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:25:04.504 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 101.5428ms
ShoppingCartAPI | 2024-03-29 04:26:20.735 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:26:20.736 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:26:20.736 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:26:20.739 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:26:20.812 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 76.1572ms
ShoppingCartAPI | 2024-03-29 04:26:20.813 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:26:20.817 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at lambda_method145(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at ShoppingCartAPI.Controllers.CartAPIController.GetCart(String userId) in C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI\Controllers\CartAPIController.cs:line 39
   at lambda_method139(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ShoppingCartAPI | 2024-03-29 04:26:20.899 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 500 null application/json; charset=utf-8 164.2033ms
ShoppingCartAPI | 2024-03-29 04:29:32.973 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 04:29:32.974 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:29:32.974 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 04:29:32.994 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 04:29:33.033 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 58.4995ms
ShoppingCartAPI | 2024-03-29 04:29:33.033 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 04:29:33.035 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at lambda_method145(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at ShoppingCartAPI.Controllers.CartAPIController.GetCart(String userId) in C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI\Controllers\CartAPIController.cs:line 39
   at lambda_method139(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ShoppingCartAPI | 2024-03-29 04:29:33.041 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 500 null application/json; charset=utf-8 68.0055ms
ShoppingCartAPI | 2024-03-29 13:16:53.490 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-29 13:16:53.698 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-29 13:16:53.867 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-29 13:16:53.921 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-29 13:16:54.286 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-29 13:16:54.287 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-29 13:16:54.287 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI
ShoppingCartAPI | 2024-03-29 13:16:54.318 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 13:16:55.130 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:16:55.188 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:16:55.713 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:16:55.716 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:16:56.829 +03:00 [INF] Received HTTP response headers after 1102.6938ms - 200
ShoppingCartAPI | 2024-03-29 13:16:56.837 +03:00 [INF] End processing HTTP request after 1129.9837ms - 200
ShoppingCartAPI | 2024-03-29 13:16:56.848 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:16:56.848 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:16:56.939 +03:00 [INF] Received HTTP response headers after 90.5912ms - 200
ShoppingCartAPI | 2024-03-29 13:16:56.940 +03:00 [INF] End processing HTTP request after 91.7577ms - 200
ShoppingCartAPI | 2024-03-29 13:16:56.944 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 13:16:56.945 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 13:16:57.008 +03:00 [INF] Received HTTP response headers after 63.4418ms - 200
ShoppingCartAPI | 2024-03-29 13:16:57.009 +03:00 [INF] End processing HTTP request after 64.2215ms - 200
ShoppingCartAPI | 2024-03-29 13:16:58.353 +03:00 [INF] Executed DbCommand (168ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 13:16:58.898 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 13:16:59.063 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 13:16:59.105 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:16:59.105 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:16:59.744 +03:00 [INF] Received HTTP response headers after 638.7318ms - 200
ShoppingCartAPI | 2024-03-29 13:16:59.744 +03:00 [INF] End processing HTTP request after 639.7008ms - 200
ShoppingCartAPI | 2024-03-29 13:16:59.766 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:16:59.871 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 4671.2271ms
ShoppingCartAPI | 2024-03-29 13:16:59.873 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:16:59.903 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 5601.1555ms
ShoppingCartAPI | 2024-03-29 13:17:12.782 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 13:17:12.797 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:17:12.798 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:17:12.811 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:17:12.812 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:17:12.843 +03:00 [INF] Received HTTP response headers after 31.7188ms - 200
ShoppingCartAPI | 2024-03-29 13:17:12.844 +03:00 [INF] End processing HTTP request after 32.719ms - 200
ShoppingCartAPI | 2024-03-29 13:17:12.845 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:17:12.845 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:17:12.859 +03:00 [INF] Received HTTP response headers after 14.36ms - 200
ShoppingCartAPI | 2024-03-29 13:17:12.859 +03:00 [INF] End processing HTTP request after 14.9816ms - 200
ShoppingCartAPI | 2024-03-29 13:17:12.860 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:17:12.860 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:17:12.868 +03:00 [INF] Received HTTP response headers after 7.1769ms - 200
ShoppingCartAPI | 2024-03-29 13:17:12.868 +03:00 [INF] End processing HTTP request after 7.885ms - 200
ShoppingCartAPI | 2024-03-29 13:17:13.084 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 13:17:13.137 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 13:17:13.183 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 13:17:13.185 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:17:13.186 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:17:13.212 +03:00 [INF] Received HTTP response headers after 25.8936ms - 200
ShoppingCartAPI | 2024-03-29 13:17:13.212 +03:00 [INF] End processing HTTP request after 26.7034ms - 200
ShoppingCartAPI | 2024-03-29 13:17:13.214 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:17:13.217 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 419.2614ms
ShoppingCartAPI | 2024-03-29 13:17:13.218 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:17:13.219 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 437.9621ms
ShoppingCartAPI | 2024-03-29 13:20:01.700 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:20:01.725 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:20:01.737 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:20:01.790 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:20:01.857 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:20:21.811 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 13:20:21.811 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 13:20:21.983 +03:00 [INF] Received HTTP response headers after 171.6322ms - 200
ShoppingCartAPI | 2024-03-29 13:20:21.983 +03:00 [INF] End processing HTTP request after 172.451ms - 200
ShoppingCartAPI | 2024-03-29 13:20:49.745 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:20:49.745 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:20:49.769 +03:00 [INF] Received HTTP response headers after 23.6214ms - 200
ShoppingCartAPI | 2024-03-29 13:20:49.769 +03:00 [INF] End processing HTTP request after 24.0094ms - 200
ShoppingCartAPI | 2024-03-29 13:21:02.486 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:21:05.889 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 64151.5532ms
ShoppingCartAPI | 2024-03-29 13:21:05.889 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:21:05.889 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 64190.548ms
ShoppingCartAPI | 2024-03-29 13:21:58.084 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=144&countToRemove=1 - null 0
ShoppingCartAPI | 2024-03-29 13:21:58.085 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:21:58.096 +03:00 [INF] Route matched with {action = "RemoveCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:21:58.150 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 13:21:58.151 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 13:21:58.151 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/29
ShoppingCartAPI | 2024-03-29 13:21:58.174 +03:00 [INF] Received HTTP response headers after 22.7662ms - 200
ShoppingCartAPI | 2024-03-29 13:21:58.174 +03:00 [INF] End processing HTTP request after 23.2359ms - 200
ShoppingCartAPI | 2024-03-29 13:21:58.181 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:21:58.181 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:21:58.257 +03:00 [INF] Received HTTP response headers after 75.8344ms - 200
ShoppingCartAPI | 2024-03-29 13:21:58.258 +03:00 [INF] End processing HTTP request after 76.3399ms - 200
ShoppingCartAPI | 2024-03-29 13:21:58.279 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
ShoppingCartAPI | 2024-03-29 13:21:58.295 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:21:58.305 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI) in 208.6034ms
ShoppingCartAPI | 2024-03-29 13:21:58.305 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:21:58.306 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=144&countToRemove=1 - 200 null application/json; charset=utf-8 223.4816ms
ShoppingCartAPI | 2024-03-29 13:21:58.356 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:21:58.359 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:21:58.359 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:21:58.367 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:21:58.375 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:22:06.447 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:06.448 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:06.482 +03:00 [INF] Received HTTP response headers after 34.6068ms - 200
ShoppingCartAPI | 2024-03-29 13:22:06.483 +03:00 [INF] End processing HTTP request after 36.3395ms - 200
ShoppingCartAPI | 2024-03-29 13:22:10.411 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:21.565 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 23205.267ms
ShoppingCartAPI | 2024-03-29 13:22:21.565 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:21.565 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 23209.6746ms
ShoppingCartAPI | 2024-03-29 13:22:24.702 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=145&countToRemove=1 - null 0
ShoppingCartAPI | 2024-03-29 13:22:24.703 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:24.703 +03:00 [INF] Route matched with {action = "RemoveCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:24.708 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 13:22:24.712 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:24.712 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:24.744 +03:00 [INF] Received HTTP response headers after 32.5244ms - 200
ShoppingCartAPI | 2024-03-29 13:22:24.745 +03:00 [INF] End processing HTTP request after 32.971ms - 200
ShoppingCartAPI | 2024-03-29 13:22:24.748 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:24.748 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:24.759 +03:00 [INF] Received HTTP response headers after 11.5703ms - 200
ShoppingCartAPI | 2024-03-29 13:22:24.760 +03:00 [INF] End processing HTTP request after 13.0085ms - 200
ShoppingCartAPI | 2024-03-29 13:22:24.773 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 13:22:24.773 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:24.774 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI) in 71.2334ms
ShoppingCartAPI | 2024-03-29 13:22:24.774 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:24.774 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCartItem?cartDetailId=145&countToRemove=1 - 200 null application/json; charset=utf-8 73.1532ms
ShoppingCartAPI | 2024-03-29 13:22:24.805 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:22:24.806 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:24.807 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:24.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:22:24.813 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:22:28.810 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:28.810 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:28.825 +03:00 [INF] Received HTTP response headers after 14.6093ms - 200
ShoppingCartAPI | 2024-03-29 13:22:28.825 +03:00 [INF] End processing HTTP request after 15.0681ms - 200
ShoppingCartAPI | 2024-03-29 13:22:28.826 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:28.827 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 4020.6191ms
ShoppingCartAPI | 2024-03-29 13:22:28.827 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:28.828 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 4022.7486ms
ShoppingCartAPI | 2024-03-29 13:22:32.015 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - application/json; charset=utf-8 3
ShoppingCartAPI | 2024-03-29 13:22:32.016 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:32.025 +03:00 [INF] Route matched with {action = "RemoveCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] RemoveCart(Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:32.052 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__CartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__CartDetailId_0
ShoppingCartAPI | 2024-03-29 13:22:32.055 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:32.055 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/28
ShoppingCartAPI | 2024-03-29 13:22:32.068 +03:00 [INF] Received HTTP response headers after 12.7934ms - 200
ShoppingCartAPI | 2024-03-29 13:22:32.068 +03:00 [INF] End processing HTTP request after 13.2398ms - 200
ShoppingCartAPI | 2024-03-29 13:22:32.069 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:32.069 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:32.098 +03:00 [INF] Received HTTP response headers after 29.4144ms - 200
ShoppingCartAPI | 2024-03-29 13:22:32.098 +03:00 [INF] End processing HTTP request after 29.7435ms - 200
ShoppingCartAPI | 2024-03-29 13:22:32.186 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetails_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartDetails_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:22:32.194 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cartDetails_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[CartHeadId] = @__cartDetails_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:22:32.220 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p1;
ShoppingCartAPI | 2024-03-29 13:22:32.235 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:32.236 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI) in 211.0275ms
ShoppingCartAPI | 2024-03-29 13:22:32.236 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.RemoveCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:32.237 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/RemoveCart - 200 null application/json; charset=utf-8 221.6258ms
ShoppingCartAPI | 2024-03-29 13:22:32.275 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:22:32.277 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:32.277 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:32.283 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:22:32.334 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 57.2612ms
ShoppingCartAPI | 2024-03-29 13:22:32.335 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:32.341 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at lambda_method147(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at ShoppingCartAPI.Controllers.CartAPIController.GetCart(String userId) in C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI\Controllers\CartAPIController.cs:line 39
   at lambda_method141(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ShoppingCartAPI | 2024-03-29 13:22:32.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 500 null application/json; charset=utf-8 330.6981ms
ShoppingCartAPI | 2024-03-29 13:22:36.630 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:22:36.633 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:36.633 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:36.637 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:22:36.704 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 70.8309ms
ShoppingCartAPI | 2024-03-29 13:22:36.705 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:36.706 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at lambda_method147(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at ShoppingCartAPI.Controllers.CartAPIController.GetCart(String userId) in C:\Users\10132587\source\repos\SellBooks-Son\ShoppingCartAPI\Controllers\CartAPIController.cs:line 39
   at lambda_method141(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ShoppingCartAPI | 2024-03-29 13:22:36.713 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 500 null application/json; charset=utf-8 82.4406ms
ShoppingCartAPI | 2024-03-29 13:22:42.662 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 13:22:42.663 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:42.664 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:42.666 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:22:42.666 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:22:42.923 +03:00 [INF] Received HTTP response headers after 256.8387ms - 200
ShoppingCartAPI | 2024-03-29 13:22:42.923 +03:00 [INF] End processing HTTP request after 257.3828ms - 200
ShoppingCartAPI | 2024-03-29 13:22:42.923 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:22:42.923 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:22:42.956 +03:00 [INF] Received HTTP response headers after 32.1443ms - 200
ShoppingCartAPI | 2024-03-29 13:22:42.956 +03:00 [INF] End processing HTTP request after 32.6285ms - 200
ShoppingCartAPI | 2024-03-29 13:22:42.957 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:42.957 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:42.967 +03:00 [INF] Received HTTP response headers after 10.4388ms - 200
ShoppingCartAPI | 2024-03-29 13:22:42.967 +03:00 [INF] End processing HTTP request after 10.8563ms - 200
ShoppingCartAPI | 2024-03-29 13:22:42.974 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 13:22:42.983 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeads] ([Email], [UserId])
OUTPUT INSERTED.[CartHeadId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-29 13:22:42.991 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 13:22:42.993 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:42.994 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:43.008 +03:00 [INF] Received HTTP response headers after 14.7182ms - 200
ShoppingCartAPI | 2024-03-29 13:22:43.009 +03:00 [INF] End processing HTTP request after 15.2449ms - 200
ShoppingCartAPI | 2024-03-29 13:22:43.009 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:43.011 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 346.9492ms
ShoppingCartAPI | 2024-03-29 13:22:43.012 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:43.013 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 351.1465ms
ShoppingCartAPI | 2024-03-29 13:22:50.560 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 294
ShoppingCartAPI | 2024-03-29 13:22:50.562 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:50.562 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartsDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:50.564 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:22:50.564 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkuser?userId=f167141a-c006-4abf-97ee-c9da662d96cc
ShoppingCartAPI | 2024-03-29 13:22:50.586 +03:00 [INF] Received HTTP response headers after 21.3222ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.586 +03:00 [INF] End processing HTTP request after 21.6595ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.597 +03:00 [INF] Start processing HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:22:50.597 +03:00 [INF] Sending HTTP request GET https://localhost:44382/api/auth/checkmail?userId=f167141a-c006-4abf-97ee-c9da662d96cc&email=ecemcansin2014@gmail.com
ShoppingCartAPI | 2024-03-29 13:22:50.621 +03:00 [INF] Received HTTP response headers after 24.2443ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.621 +03:00 [INF] End processing HTTP request after 24.6714ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.624 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:50.624 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:50.631 +03:00 [INF] Received HTTP response headers after 6.2798ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.631 +03:00 [INF] End processing HTTP request after 6.7479ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.635 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartsDTO_CartHead_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__cartsDTO_CartHead_UserId_0
ShoppingCartAPI | 2024-03-29 13:22:50.643 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__First_ProductId_0='?' (DbType = Int32), @__cartHeaderFromDb_CartHeadId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[ProductId] = @__First_ProductId_0 AND [c].[CartHeadId] = @__cartHeaderFromDb_CartHeadId_1
ShoppingCartAPI | 2024-03-29 13:22:50.684 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetail] ([CartHeadId], [Count], [ProductId])
OUTPUT INSERTED.[CartDetailId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-29 13:22:50.686 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:50.686 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:50.703 +03:00 [INF] Received HTTP response headers after 17.506ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.704 +03:00 [INF] End processing HTTP request after 18.077ms - 200
ShoppingCartAPI | 2024-03-29 13:22:50.705 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:50.706 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 143.8494ms
ShoppingCartAPI | 2024-03-29 13:22:50.706 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:50.707 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 147.455ms
ShoppingCartAPI | 2024-03-29 13:22:53.830 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:22:53.831 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:53.831 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:53.838 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:22:53.844 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:22:53.844 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:53.845 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:53.854 +03:00 [INF] Received HTTP response headers after 9.291ms - 200
ShoppingCartAPI | 2024-03-29 13:22:53.855 +03:00 [INF] End processing HTTP request after 10.3368ms - 200
ShoppingCartAPI | 2024-03-29 13:22:53.856 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:53.856 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:53.863 +03:00 [INF] Received HTTP response headers after 7.3296ms - 200
ShoppingCartAPI | 2024-03-29 13:22:53.863 +03:00 [INF] End processing HTTP request after 7.8634ms - 200
ShoppingCartAPI | 2024-03-29 13:22:53.864 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:53.866 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 34.4071ms
ShoppingCartAPI | 2024-03-29 13:22:53.866 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:53.867 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 36.8617ms
ShoppingCartAPI | 2024-03-29 13:22:56.638 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=146&countToAdd=1 - null 0
ShoppingCartAPI | 2024-03-29 13:22:56.639 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:56.653 +03:00 [INF] Route matched with {action = "AddCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] AddCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:56.672 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 13:22:56.673 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:56.673 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:56.681 +03:00 [INF] Received HTTP response headers after 8.0713ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.682 +03:00 [INF] End processing HTTP request after 8.4963ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.683 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:56.683 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:56.698 +03:00 [INF] Received HTTP response headers after 14.9932ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.698 +03:00 [INF] End processing HTTP request after 15.4073ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.705 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 13:22:56.706 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:56.707 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI) in 53.1787ms
ShoppingCartAPI | 2024-03-29 13:22:56.707 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:56.707 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=146&countToAdd=1 - 200 null application/json; charset=utf-8 69.6988ms
ShoppingCartAPI | 2024-03-29 13:22:56.763 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:22:56.764 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:56.765 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:56.768 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:22:56.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:22:56.771 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:56.771 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:56.781 +03:00 [INF] Received HTTP response headers after 10.0657ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.781 +03:00 [INF] End processing HTTP request after 10.4516ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.782 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:56.782 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:56.789 +03:00 [INF] Received HTTP response headers after 6.5846ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.789 +03:00 [INF] End processing HTTP request after 6.9456ms - 200
ShoppingCartAPI | 2024-03-29 13:22:56.790 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:56.791 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 26.151ms
ShoppingCartAPI | 2024-03-29 13:22:56.791 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:56.792 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 28.2059ms
ShoppingCartAPI | 2024-03-29 13:22:58.722 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=147&countToAdd=1 - null 0
ShoppingCartAPI | 2024-03-29 13:22:58.724 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:58.724 +03:00 [INF] Route matched with {action = "AddCartItem", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] AddCartItem(Int32, Int32) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:58.735 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cartDetailId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartDetailId] = @__cartDetailId_0
ShoppingCartAPI | 2024-03-29 13:22:58.736 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:58.737 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:58.748 +03:00 [INF] Received HTTP response headers after 10.7488ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.748 +03:00 [INF] End processing HTTP request after 11.6196ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.749 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:58.749 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-29 13:22:58.801 +03:00 [INF] Received HTTP response headers after 51.6383ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.801 +03:00 [INF] End processing HTTP request after 51.9932ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.805 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cartDetail] SET [Count] = @p0
OUTPUT 1
WHERE [CartDetailId] = @p1;
ShoppingCartAPI | 2024-03-29 13:22:58.806 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:58.807 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI) in 83.1757ms
ShoppingCartAPI | 2024-03-29 13:22:58.807 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.AddCartItem (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:58.808 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/AddCartItem?cartDetailId=147&countToAdd=1 - 200 null application/json; charset=utf-8 86.8147ms
ShoppingCartAPI | 2024-03-29 13:22:58.849 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:22:58.850 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:58.850 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:22:58.854 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:22:58.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:22:58.856 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:58.857 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:22:58.864 +03:00 [INF] Received HTTP response headers after 7.0858ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.865 +03:00 [INF] End processing HTTP request after 8.2717ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.867 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:58.867 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:22:58.873 +03:00 [INF] Received HTTP response headers after 6.0543ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.873 +03:00 [INF] End processing HTTP request after 6.3757ms - 200
ShoppingCartAPI | 2024-03-29 13:22:58.874 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:22:58.875 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 25.1367ms
ShoppingCartAPI | 2024-03-29 13:22:58.875 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:22:58.876 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 27.2582ms
ShoppingCartAPI | 2024-03-29 13:23:00.772 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:23:00.773 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:00.774 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:23:00.780 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:23:00.782 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:23:00.783 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:23:00.783 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:23:00.794 +03:00 [INF] Received HTTP response headers after 11.4193ms - 200
ShoppingCartAPI | 2024-03-29 13:23:00.795 +03:00 [INF] End processing HTTP request after 12.2575ms - 200
ShoppingCartAPI | 2024-03-29 13:23:00.796 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:23:00.796 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:23:00.804 +03:00 [INF] Received HTTP response headers after 7.8171ms - 200
ShoppingCartAPI | 2024-03-29 13:23:00.804 +03:00 [INF] End processing HTTP request after 8.2501ms - 200
ShoppingCartAPI | 2024-03-29 13:23:00.805 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:23:00.806 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 32.5904ms
ShoppingCartAPI | 2024-03-29 13:23:00.806 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:00.807 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 35.274ms
ShoppingCartAPI | 2024-03-29 13:23:02.907 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:23:02.909 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:02.909 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:23:02.915 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:23:02.917 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:23:02.918 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:23:02.918 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:23:02.928 +03:00 [INF] Received HTTP response headers after 10.1735ms - 200
ShoppingCartAPI | 2024-03-29 13:23:02.929 +03:00 [INF] End processing HTTP request after 10.7041ms - 200
ShoppingCartAPI | 2024-03-29 13:23:02.929 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:23:02.929 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:23:02.937 +03:00 [INF] Received HTTP response headers after 7.3606ms - 200
ShoppingCartAPI | 2024-03-29 13:23:02.937 +03:00 [INF] End processing HTTP request after 7.7297ms - 200
ShoppingCartAPI | 2024-03-29 13:23:02.939 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:23:02.940 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 30.6983ms
ShoppingCartAPI | 2024-03-29 13:23:02.940 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:02.942 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 34.1781ms
ShoppingCartAPI | 2024-03-29 13:23:06.246 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-29 13:23:06.247 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:06.247 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:23:06.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:23:06.253 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cart_CartHead_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cart_CartHead_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:23:06.254 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:23:06.254 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/30
ShoppingCartAPI | 2024-03-29 13:23:06.264 +03:00 [INF] Received HTTP response headers after 9.5838ms - 200
ShoppingCartAPI | 2024-03-29 13:23:06.264 +03:00 [INF] End processing HTTP request after 10.0763ms - 200
ShoppingCartAPI | 2024-03-29 13:23:06.264 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:23:06.264 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/17
ShoppingCartAPI | 2024-03-29 13:23:06.270 +03:00 [INF] Received HTTP response headers after 6.2079ms - 200
ShoppingCartAPI | 2024-03-29 13:23:06.271 +03:00 [INF] End processing HTTP request after 6.4771ms - 200
ShoppingCartAPI | 2024-03-29 13:23:06.272 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:23:06.274 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 27.0643ms
ShoppingCartAPI | 2024-03-29 13:23:06.274 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:06.275 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 29.0005ms
ShoppingCartAPI | 2024-03-29 13:23:33.152 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-29 13:23:33.153 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:33.167 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-29 13:23:33.187 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeadId], [c].[Email], [c].[UserId]
FROM [cartHeads] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-29 13:23:33.212 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cartHeader_CartHeadId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailId], [c].[CartHeadId], [c].[Count], [c].[ProductId]
FROM [cartDetail] AS [c]
WHERE [c].[CartHeadId] = @__cartHeader_CartHeadId_0
ShoppingCartAPI | 2024-03-29 13:23:33.230 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p0;
DELETE FROM [cartDetail]
OUTPUT 1
WHERE [CartDetailId] = @p1;
DELETE FROM [cartHeads]
OUTPUT 1
WHERE [CartHeadId] = @p2;
ShoppingCartAPI | 2024-03-29 13:23:33.233 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-29 13:23:33.234 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 66.9199ms
ShoppingCartAPI | 2024-03-29 13:23:33.234 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-29 13:23:33.234 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 82.0511ms
