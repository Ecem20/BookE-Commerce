ShoppingCartAPI | 2024-03-06 20:25:35.035 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-06 20:25:35.328 +03:00 [INF] Executed DbCommand (144ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-06 20:25:35.400 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-06 20:25:35.483 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-06 20:25:35.933 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-06 20:25:35.934 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-06 20:25:35.934 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-SonCopy - Copy (3) - Copy\ShoppingCartAPI
ShoppingCartAPI | 2024-03-06 20:25:35.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/swagger/index.html - null null
ShoppingCartAPI | 2024-03-06 20:25:36.716 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/swagger/index.html - 200 null text/html;charset=utf-8 762.2454ms
ShoppingCartAPI | 2024-03-06 20:25:36.996 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/_framework/aspnetcore-browser-refresh.js - null null
ShoppingCartAPI | 2024-03-06 20:25:37.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 5.1625ms
ShoppingCartAPI | 2024-03-06 20:25:37.115 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/_vs/browserLink - null null
ShoppingCartAPI | 2024-03-06 20:25:37.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/_vs/browserLink - 200 null text/javascript; charset=UTF-8 209.5933ms
ShoppingCartAPI | 2024-03-06 20:25:37.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/swagger/v1/swagger.json - null null
ShoppingCartAPI | 2024-03-06 20:25:37.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 178.2086ms
ShoppingCartAPI | 2024-03-06 20:28:43.068 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 249
ShoppingCartAPI | 2024-03-06 20:28:43.441 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:43.481 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:28:43.645 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-06 20:28:43.649 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-06 20:28:43.842 +03:00 [INF] Received HTTP response headers after 187.7136ms - 200
ShoppingCartAPI | 2024-03-06 20:28:43.843 +03:00 [INF] End processing HTTP request after 203.0659ms - 200
ShoppingCartAPI | 2024-03-06 20:28:44.619 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-06 20:28:44.917 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-06 20:28:45.007 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-06 20:28:45.033 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-06 20:28:45.034 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-06 20:28:45.262 +03:00 [INF] Received HTTP response headers after 228.0356ms - 200
ShoppingCartAPI | 2024-03-06 20:28:45.262 +03:00 [INF] End processing HTTP request after 228.5119ms - 200
ShoppingCartAPI | 2024-03-06 20:28:45.271 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:28:45.291 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 1802.2544ms
ShoppingCartAPI | 2024-03-06 20:28:45.292 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:45.300 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 2237.7518ms
ShoppingCartAPI | 2024-03-06 20:28:46.927 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-06 20:28:46.930 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:46.937 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:28:47.062 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:28:47.115 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:28:47.122 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:28:47.122 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:28:47.139 +03:00 [INF] Received HTTP response headers after 17.1076ms - 200
ShoppingCartAPI | 2024-03-06 20:28:47.139 +03:00 [INF] End processing HTTP request after 17.6925ms - 200
ShoppingCartAPI | 2024-03-06 20:28:47.153 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:28:47.157 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 219.565ms
ShoppingCartAPI | 2024-03-06 20:28:47.157 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:47.158 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 231.6929ms
ShoppingCartAPI | 2024-03-06 20:28:48.731 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-06 20:28:48.736 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:48.736 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:28:48.754 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:28:48.763 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:28:48.764 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:28:48.764 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:28:48.774 +03:00 [INF] Received HTTP response headers after 9.7861ms - 200
ShoppingCartAPI | 2024-03-06 20:28:48.774 +03:00 [INF] End processing HTTP request after 10.2543ms - 200
ShoppingCartAPI | 2024-03-06 20:28:48.777 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:28:48.777 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 41.2939ms
ShoppingCartAPI | 2024-03-06 20:28:48.777 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:48.778 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 46.897ms
ShoppingCartAPI | 2024-03-06 20:28:51.706 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-06 20:28:51.708 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:51.708 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:28:51.715 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:28:51.717 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:28:51.718 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:28:51.718 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:28:51.731 +03:00 [INF] Received HTTP response headers after 12.7863ms - 200
ShoppingCartAPI | 2024-03-06 20:28:51.731 +03:00 [INF] End processing HTTP request after 13.0764ms - 200
ShoppingCartAPI | 2024-03-06 20:28:51.732 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:28:51.732 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 23.9833ms
ShoppingCartAPI | 2024-03-06 20:28:51.732 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:51.733 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 27.1399ms
ShoppingCartAPI | 2024-03-06 20:28:53.377 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-06 20:28:53.378 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:53.388 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:28:53.400 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:28:53.414 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:28:53.476 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-06 20:28:53.504 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:28:53.511 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 123.4055ms
ShoppingCartAPI | 2024-03-06 20:28:53.511 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:28:53.512 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 135.3395ms
ShoppingCartAPI | 2024-03-06 20:29:03.241 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 249
ShoppingCartAPI | 2024-03-06 20:29:03.243 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:03.244 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:29:03.248 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-06 20:29:03.248 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/9
ShoppingCartAPI | 2024-03-06 20:29:03.258 +03:00 [INF] Received HTTP response headers after 10.3316ms - 200
ShoppingCartAPI | 2024-03-06 20:29:03.258 +03:00 [INF] End processing HTTP request after 10.72ms - 200
ShoppingCartAPI | 2024-03-06 20:29:03.297 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-06 20:29:03.304 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-06 20:29:03.315 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-06 20:29:03.316 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-06 20:29:03.316 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-06 20:29:03.332 +03:00 [INF] Received HTTP response headers after 15.9453ms - 200
ShoppingCartAPI | 2024-03-06 20:29:03.332 +03:00 [INF] End processing HTTP request after 16.2128ms - 200
ShoppingCartAPI | 2024-03-06 20:29:03.333 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:29:03.333 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 89.4965ms
ShoppingCartAPI | 2024-03-06 20:29:03.333 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:03.334 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 92.8826ms
ShoppingCartAPI | 2024-03-06 20:29:04.924 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-06 20:29:04.925 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:04.926 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:29:04.932 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:29:04.934 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:29:04.935 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:29:04.935 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:29:04.947 +03:00 [INF] Received HTTP response headers after 12.0396ms - 200
ShoppingCartAPI | 2024-03-06 20:29:04.947 +03:00 [INF] End processing HTTP request after 12.246ms - 200
ShoppingCartAPI | 2024-03-06 20:29:04.948 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:29:04.949 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 22.7632ms
ShoppingCartAPI | 2024-03-06 20:29:04.949 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:04.949 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 24.6955ms
ShoppingCartAPI | 2024-03-06 20:29:06.521 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-06 20:29:06.522 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:06.523 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:29:06.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:29:06.533 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:29:06.533 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:29:06.533 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:29:06.543 +03:00 [INF] Received HTTP response headers after 9.4399ms - 200
ShoppingCartAPI | 2024-03-06 20:29:06.543 +03:00 [INF] End processing HTTP request after 9.6443ms - 200
ShoppingCartAPI | 2024-03-06 20:29:06.544 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:29:06.546 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 22.4509ms
ShoppingCartAPI | 2024-03-06 20:29:06.546 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:06.546 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 25.0755ms
ShoppingCartAPI | 2024-03-06 20:29:08.116 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-06 20:29:08.119 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:08.119 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:29:08.128 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:29:08.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:29:08.131 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:29:08.131 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 20:29:08.143 +03:00 [INF] Received HTTP response headers after 11.6291ms - 200
ShoppingCartAPI | 2024-03-06 20:29:08.143 +03:00 [INF] End processing HTTP request after 11.9423ms - 200
ShoppingCartAPI | 2024-03-06 20:29:08.144 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:29:08.145 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 25.267ms
ShoppingCartAPI | 2024-03-06 20:29:08.145 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:08.145 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 29.0421ms
ShoppingCartAPI | 2024-03-06 20:29:08.186 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-06 20:29:08.187 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:08.187 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:29:08.193 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:29:08.196 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 20:29:08.204 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-06 20:29:08.205 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:29:08.206 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 19.4979ms
ShoppingCartAPI | 2024-03-06 20:29:08.207 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:08.207 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 20.7775ms
ShoppingCartAPI | 2024-03-06 20:29:15.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - null null
ShoppingCartAPI | 2024-03-06 20:29:15.770 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:15.771 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 20:29:15.779 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 20:29:15.883 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 20:29:15.884 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 113.0986ms
ShoppingCartAPI | 2024-03-06 20:29:15.884 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 20:29:15.884 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/5fe281f5-45a6-493f-baf8-443e4b9de84c - 200 null application/json; charset=utf-8 114.3366ms
ShoppingCartAPI | 2024-03-06 21:13:03.315 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
ShoppingCartAPI | 2024-03-06 21:13:03.675 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
ShoppingCartAPI | 2024-03-06 21:13:04.148 +03:00 [INF] Executed DbCommand (379ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ShoppingCartAPI | 2024-03-06 21:13:04.528 +03:00 [INF] User profile is available. Using 'C:\Users\10132587\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
ShoppingCartAPI | 2024-03-06 21:13:06.620 +03:00 [INF] Application started. Press Ctrl+C to shut down.
ShoppingCartAPI | 2024-03-06 21:13:06.621 +03:00 [INF] Hosting environment: Development
ShoppingCartAPI | 2024-03-06 21:13:06.621 +03:00 [INF] Content root path: C:\Users\10132587\source\repos\SellBooks-SonCopy - Copy (3) - Copy\ShoppingCartAPI
ShoppingCartAPI | 2024-03-06 21:13:06.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/swagger/index.html - null null
ShoppingCartAPI | 2024-03-06 21:13:09.608 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/swagger/index.html - 200 null text/html;charset=utf-8 2740.8122ms
ShoppingCartAPI | 2024-03-06 21:13:09.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/_framework/aspnetcore-browser-refresh.js - null null
ShoppingCartAPI | 2024-03-06 21:13:09.686 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 69.3415ms
ShoppingCartAPI | 2024-03-06 21:13:09.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/_vs/browserLink - null null
ShoppingCartAPI | 2024-03-06 21:13:10.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/_vs/browserLink - 200 null text/javascript; charset=UTF-8 242.9393ms
ShoppingCartAPI | 2024-03-06 21:13:10.345 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44373/swagger/v1/swagger.json - null null
ShoppingCartAPI | 2024-03-06 21:13:10.682 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44373/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 337.745ms
ShoppingCartAPI | 2024-03-06 21:16:27.460 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - application/json; charset=utf-8 255
ShoppingCartAPI | 2024-03-06 21:16:27.824 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:16:27.863 +03:00 [INF] Route matched with {action = "CartUpsert", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] CartUpsert(ShoppingCartAPI.Models.Dto.CartDto) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 21:16:28.002 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-06 21:16:28.006 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/8
ShoppingCartAPI | 2024-03-06 21:16:28.216 +03:00 [INF] Received HTTP response headers after 205.903ms - 200
ShoppingCartAPI | 2024-03-06 21:16:28.217 +03:00 [INF] End processing HTTP request after 219.3464ms - 200
ShoppingCartAPI | 2024-03-06 21:16:29.027 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__8__locals1_cartDTO_CartHeader_UserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__8__locals1_cartDTO_CartHeader_UserId_0
ShoppingCartAPI | 2024-03-06 21:16:29.314 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartHeaders] ([UserEmail], [UserId])
OUTPUT INSERTED.[CartHeaderId]
VALUES (@p0, @p1);
ShoppingCartAPI | 2024-03-06 21:16:29.405 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cartDetails] ([BookId], [CartHeaderId], [Count])
OUTPUT INSERTED.[CartDetailsId]
VALUES (@p0, @p1, @p2);
ShoppingCartAPI | 2024-03-06 21:16:29.427 +03:00 [INF] Start processing HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-06 21:16:29.427 +03:00 [INF] Sending HTTP request POST https://localhost:44386/api/book/Update
ShoppingCartAPI | 2024-03-06 21:16:29.445 +03:00 [INF] Received HTTP response headers after 17.9419ms - 200
ShoppingCartAPI | 2024-03-06 21:16:29.445 +03:00 [INF] End processing HTTP request after 18.3572ms - 200
ShoppingCartAPI | 2024-03-06 21:16:29.456 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 21:16:29.474 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI) in 1605.7263ms
ShoppingCartAPI | 2024-03-06 21:16:29.475 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.CartUpsert (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:16:29.483 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/CartUpsert - 200 null application/json; charset=utf-8 2024.4337ms
ShoppingCartAPI | 2024-03-06 21:16:31.321 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-06 21:16:31.325 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:16:31.331 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 21:16:31.444 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 21:16:31.479 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 21:16:31.482 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 21:16:31.482 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 21:16:31.516 +03:00 [INF] Received HTTP response headers after 33.432ms - 200
ShoppingCartAPI | 2024-03-06 21:16:31.516 +03:00 [INF] End processing HTTP request after 33.9805ms - 200
ShoppingCartAPI | 2024-03-06 21:16:31.537 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 21:16:31.541 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 209.9183ms
ShoppingCartAPI | 2024-03-06 21:16:31.542 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:16:31.542 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 221.3759ms
ShoppingCartAPI | 2024-03-06 21:17:44.722 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-06 21:17:44.726 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:17:44.726 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 21:17:44.739 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 21:17:44.743 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 21:17:44.744 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 21:17:44.744 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 21:17:44.770 +03:00 [INF] Received HTTP response headers after 25.6761ms - 200
ShoppingCartAPI | 2024-03-06 21:17:44.770 +03:00 [INF] End processing HTTP request after 26.2062ms - 200
ShoppingCartAPI | 2024-03-06 21:17:44.772 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 21:17:44.773 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 46.8001ms
ShoppingCartAPI | 2024-03-06 21:17:44.773 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:17:44.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 51.3435ms
ShoppingCartAPI | 2024-03-06 21:17:46.790 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - null null
ShoppingCartAPI | 2024-03-06 21:17:46.791 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:17:46.791 +03:00 [INF] Route matched with {action = "GetCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] GetCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 21:17:46.796 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 21:17:46.805 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cart_CartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cart_CartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 21:17:46.806 +03:00 [INF] Start processing HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 21:17:46.806 +03:00 [INF] Sending HTTP request GET https://localhost:44386/api/book/getbooks
ShoppingCartAPI | 2024-03-06 21:17:46.817 +03:00 [INF] Received HTTP response headers after 10.735ms - 200
ShoppingCartAPI | 2024-03-06 21:17:46.817 +03:00 [INF] End processing HTTP request after 11.0371ms - 200
ShoppingCartAPI | 2024-03-06 21:17:46.818 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 21:17:46.819 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI) in 28.0066ms
ShoppingCartAPI | 2024-03-06 21:17:46.820 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.GetCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:17:46.820 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44373/api/cart/GetCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 29.9477ms
ShoppingCartAPI | 2024-03-06 21:17:47.781 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - application/json; charset=utf-8 38
ShoppingCartAPI | 2024-03-06 21:17:47.782 +03:00 [INF] Executing endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:17:47.790 +03:00 [INF] Route matched with {action = "ClearCart", controller = "CartAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[ShoppingCartAPI.Models.Dto.ResponseDto] ClearCart(System.String) on controller ShoppingCartAPI.Controllers.CartAPIController (ShoppingCartAPI).
ShoppingCartAPI | 2024-03-06 21:17:47.808 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartHeaderId], [c].[UserEmail], [c].[UserId]
FROM [cartHeaders] AS [c]
WHERE [c].[UserId] = @__userId_0
ShoppingCartAPI | 2024-03-06 21:17:47.826 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cartHeader_CartHeaderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartDetailsId], [c].[BookId], [c].[CartHeaderId], [c].[Count]
FROM [cartDetails] AS [c]
WHERE [c].[CartHeaderId] = @__cartHeader_CartHeaderId_0
ShoppingCartAPI | 2024-03-06 21:17:47.946 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [cartDetails]
OUTPUT 1
WHERE [CartDetailsId] = @p0;
DELETE FROM [cartHeaders]
OUTPUT 1
WHERE [CartHeaderId] = @p1;
ShoppingCartAPI | 2024-03-06 21:17:47.973 +03:00 [INF] Executing ObjectResult, writing value of type 'ShoppingCartAPI.Models.Dto.ResponseDto'.
ShoppingCartAPI | 2024-03-06 21:17:47.980 +03:00 [INF] Executed action ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI) in 189.8808ms
ShoppingCartAPI | 2024-03-06 21:17:47.980 +03:00 [INF] Executed endpoint 'ShoppingCartAPI.Controllers.CartAPIController.ClearCart (ShoppingCartAPI)'
ShoppingCartAPI | 2024-03-06 21:17:47.981 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44373/api/cart/ClearCart/f167141a-c006-4abf-97ee-c9da662d96cc - 200 null application/json; charset=utf-8 200.0074ms
